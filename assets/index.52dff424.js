var e=Object.defineProperty,t=("undefined"!=typeof require&&require,(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r));!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const n=Symbol("solid-proxy"),r={equals:(e,t)=>e===t};let i=O;const o={},a={owned:null,cleanups:null,context:null,owner:null};var s=null;let l=null,c=null,d=null,u=null,f=0;function p(e,t){t&&(s=t);const n=l,r=s,i=0===e.length?a:{owned:null,cleanups:null,context:null,owner:r};let o;s=i,l=null;try{j((()=>o=e((()=>P(i)))),!0)}finally{l=n,s=r}return o}function h(e,t){t=t?Object.assign({},r,t):r;const n={value:e,observers:null,observerSlots:null,pending:o,comparator:t.equals||void 0};return[C.bind(n),e=>("function"==typeof e&&(e=e(n.pending!==o?n.pending:n.value)),A(n,e))]}function v(e,t,n){E(L(e,t,!0,1))}function g(e,t,n){E(L(e,t,!1,1))}function m(e,t,n){i=T;const r=L(e,t,!1,1);r.user=!0,u&&u.push(r)}function y(e,t,n){n=n?Object.assign({},r,n):r;const i=L(e,t,!0,0);return i.pending=o,i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,E(i),C.bind(i)}function b(e,t,n={}){2===arguments.length?"object"==typeof t&&(n=t,t=e,e=!0):1===arguments.length&&(t=e,e=!0);const r=new Set,[i,o]=h(n.initialValue),[a,s]=h(void 0,{equals:!1}),[c,d]=h(!1),[u,f]=h();let p,g=null,m=null,y="function"==typeof e;function b(e,t,n){return g===e&&(f(p=n),g=null,S(t)),t}function S(e){_((()=>{o((()=>e)),d(!1);for(const e of r.keys())e.decrement();r.clear()}))}function $(){const e=undefined,t=i();if(p)throw p;return l&&!l.user&&e&&v((()=>{a(),g&&(e.resolved||r.has(e)||(e.increment(),r.add(e)))})),t}function x(){f(p=void 0);const n=y?e():e;if(null==n||!1===n)return void b(g,w(i));const r=m||w((()=>t(n,i)));m=null,"object"==typeof r&&"then"in r?(g=r,_((()=>{d(!0),s()})),r.then((e=>b(r,e)),(e=>b(r,e,e)))):b(g,r)}return Object.defineProperties($,{loading:{get:()=>c()},error:{get:()=>u()}}),y?v(x):x(),[$,{refetch:x,mutate:o}]}function _(e){if(c)return e();let t;const n=c=[];try{t=e()}finally{c=null}return j((()=>{for(let e=0;e<n.length;e+=1){const t=n[e];if(t.pending!==o){const e=t.pending;t.pending=o,A(t,e)}}}),!1),t}function w(e){let t,n=l;return l=null,t=e(),l=n,t}function S(e){m((()=>w(e)))}function $(e){return null===s||(null===s.cleanups?s.cleanups=[e]:s.cleanups.push(e)),e}function x(){return l}function k(e){const t=y(e);return y((()=>D(t())))}function C(){if(this.state&&this.sources){const e=d;d=null,1===this.state?E(this):R(this),d=e}if(l){const e=this.observers?this.observers.length:0;l.sources?(l.sources.push(this),l.sourceSlots.push(e)):(l.sources=[this],l.sourceSlots=[e]),this.observers?(this.observers.push(l),this.observerSlots.push(l.sources.length-1)):(this.observers=[l],this.observerSlots=[l.sources.length-1])}return this.value}function A(e,t,n){if(e.comparator&&e.comparator(e.value,t))return t;if(c)return e.pending===o&&c.push(e),e.pending=t,t;let r=!1;return e.value=t,e.observers&&e.observers.length&&j((()=>{for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];r,n.pure?d.push(n):u.push(n),n.observers&&!n.state&&B(n),n.state=1}if(d.length>1e6)throw d=[],new Error}),!1),t}function E(e){if(!e.fn)return;P(e);const t=s,n=l,r=f;l=s=e,function(e,t,n){let r;try{r=e.fn(t)}catch(i){M(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.observers&&e.observers.length?A(e,r):e.value=r,e.updatedAt=n)}(e,e.value,r),l=n,s=t}function L(e,t,n,r=1,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:s,context:null,pure:n};return null===s||s!==a&&(s.owned?s.owned.push(o):s.owned=[o]),o}function N(e){if(1!==e.state)return e.state=0;if(e.suspense&&w(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<f);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(1===(e=t[n]).state)E(e);else if(2===e.state){const t=d;d=null,R(e),d=t}}function j(e,t){if(d)return e();let n=!1;t||(d=[]),u?n=!0:u=[],f++;try{e()}catch(r){M(r)}finally{!function(e){d&&(O(d),d=null);if(e)return;u.length?_((()=>{i(u),u=null})):u=null}(n)}}function O(e){for(let t=0;t<e.length;t++)N(e[t])}function T(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:N(r)}const r=e.length;for(t=0;t<n;t++)N(e[t]);for(t=r;t<e.length;t++)N(e[t])}function R(e){e.state=0;for(let t=0;t<e.sources.length;t+=1){const n=e.sources[t];n.sources&&(1===n.state?N(n):2===n.state&&R(n))}}function B(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=2,n.pure?d.push(n):u.push(n),n.observers&&B(n))}}function P(e){let t;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),n=e.sourceSlots.pop(),r=t.observers;if(r&&r.length){const e=r.pop(),i=t.observerSlots.pop();n<r.length&&(e.sourceSlots[i]=n,r[n]=e,t.observerSlots[n]=i)}}if(e.owned){for(t=0;t<e.owned.length;t++)P(e.owned[t]);e.owned=null}if(e.cleanups){for(t=0;t<e.cleanups.length;t++)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function M(e){throw e}function D(e){if("function"==typeof e&&!e.length)return D(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=D(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}const K=Symbol("fallback");function q(e){for(let t=0;t<e.length;t++)e[t]()}function I(e,t){return w((()=>e(t)))}function H(e){const t="fallback"in e&&{fallback:()=>e.fallback};return y(function(e,t,n={}){let r=[],i=[],o=[],a=0,s=t.length>1?[]:null;return $((()=>q(o))),()=>{let l,c,d=e()||[];return w((()=>{let e,t,f,h,v,g,m,y,b,_=d.length;if(0===_)0!==a&&(q(o),o=[],r=[],i=[],a=0,s&&(s=[])),n.fallback&&(r=[K],i[0]=p((e=>(o[0]=e,n.fallback()))),a=1);else if(0===a){for(i=new Array(_),c=0;c<_;c++)r[c]=d[c],i[c]=p(u);a=_}else{for(f=new Array(_),h=new Array(_),s&&(v=new Array(_)),g=0,m=Math.min(a,_);g<m&&r[g]===d[g];g++);for(m=a-1,y=_-1;m>=g&&y>=g&&r[m]===d[y];m--,y--)f[y]=i[m],h[y]=o[m],s&&(v[y]=s[m]);for(e=new Map,t=new Array(y+1),c=y;c>=g;c--)b=d[c],l=e.get(b),t[c]=void 0===l?-1:l,e.set(b,c);for(l=g;l<=m;l++)b=r[l],c=e.get(b),void 0!==c&&-1!==c?(f[c]=i[l],h[c]=o[l],s&&(v[c]=s[l]),c=t[c],e.set(b,c)):o[l]();for(c=g;c<_;c++)c in f?(i[c]=f[c],o[c]=h[c],s&&(s[c]=v[c],s[c](c))):i[c]=p(u);i=i.slice(0,a=_),r=d.slice(0)}return i}));function u(e){if(o[c]=e,s){const[e,n]=h(c);return s[c]=n,t(d[c],e)}return t(d[c])}}}((()=>e.each),e.children,t||void 0))}function z(e){let t=!1;const n=y((()=>e.when),void 0,{equals:(e,n)=>t?e===n:!e==!n});return y((()=>{const r=n();if(r){const n=e.children;return(t="function"==typeof n&&n.length>0)?w((()=>n(r))):n}return e.fallback}))}function U(e){let t=!1;const n=k((()=>e.children)),r=y((()=>{let e=n();Array.isArray(e)||(e=[e]);for(let t=0;t<e.length;t++){const n=e[t].when;if(n)return[t,n,e[t]]}return[-1]}),void 0,{equals:(e,n)=>e&&e[0]===n[0]&&(t?e[1]===n[1]:!e[1]==!n[1])&&e[2]===n[2]});return y((()=>{const[n,i,o]=r();if(n<0)return e.fallback;const a=o.children;return(t="function"==typeof a&&a.length>0)?w((()=>a(i))):a}))}function X(e){return e}function Y(e,t,n){let r=n.length,i=t.length,o=r,a=0,s=0,l=t[i-1].nextSibling,c=null;for(;a<i||s<o;)if(t[a]!==n[s]){for(;t[i-1]===n[o-1];)i--,o--;if(i===a){const t=o<r?s?n[s-1].nextSibling:n[o-s]:l;for(;s<o;)e.insertBefore(n[s++],t)}else if(o===s)for(;a<i;)c&&c.has(t[a])||e.removeChild(t[a]),a++;else if(t[a]===n[o-1]&&n[s]===t[i-1]){const r=t[--i].nextSibling;e.insertBefore(n[s++],t[a++].nextSibling),e.insertBefore(n[--o],r),t[i]=n[o]}else{if(!c){c=new Map;let e=s;for(;e<o;)c.set(n[e],e++)}const r=c.get(t[a]);if(null!=r)if(s<r&&r<o){let l,d=a,u=1;for(;++d<i&&d<o&&null!=(l=c.get(t[d]))&&l===r+u;)u++;if(u>r-s){const i=t[a];for(;s<r;)e.insertBefore(n[s++],i)}else e.replaceChild(n[s++],t[a++])}else a++;else e.removeChild(t[a++])}}else a++,s++}function W(e,t,n){const r=document.createElement("template");r.innerHTML=e;let i=r.content.firstChild;return n&&(i=i.firstChild),i}function F(e,t=window.document){const n=t._$DX_DELEGATE||(t._$DX_DELEGATE=new Set);for(let r=0,i=e.length;r<i;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Q))}}function V(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function G(e,t,n,r){r?Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n:Array.isArray(n)?e.addEventListener(t,(e=>n[0](n[1],e))):e.addEventListener(t,n)}function J(e,t,n,r){if(void 0===n||r||(r=[]),"function"!=typeof t)return Z(e,t,r,n);g((r=>Z(e,t(),r,n)),r)}function Q(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get:()=>n});null!==n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(void 0!==i?r(i,e):r(e),e.cancelBubble)return}n=n.host&&n.host!==n&&n.host instanceof Node?n.host:n.parentNode}}function Z(e,t,n,r,i){for(;"function"==typeof n;)n=n();if(t===n)return n;const o=typeof t,a=void 0!==r;if(e=a&&n[0]&&n[0].parentNode||e,"string"===o||"number"===o)if("number"===o&&(t=t.toString()),a){let i=n[0];i&&3===i.nodeType?i.data=t:i=document.createTextNode(t),n=ne(e,n,r,i)}else n=""!==n&&"string"==typeof n?e.firstChild.data=t:e.textContent=t;else if(null==t||"boolean"===o)n=ne(e,n,r);else{if("function"===o)return g((()=>{let i=t();for(;"function"==typeof i;)i=i();n=Z(e,i,n,r)})),()=>n;if(Array.isArray(t)){const o=[];if(ee(o,t,i))return g((()=>n=Z(e,o,n,r,!0))),()=>n;if(0===o.length){if(n=ne(e,n,r),a)return n}else Array.isArray(n)?0===n.length?te(e,o,r):Y(e,n,o):null==n||""===n?te(e,o):Y(e,a&&n||[e.firstChild],o);n=o}else if(t instanceof Node){if(Array.isArray(n)){if(a)return n=ne(e,n,r,t);ne(e,n,null,t)}else null!=n&&""!==n&&e.firstChild?e.replaceChild(t,e.firstChild):e.appendChild(t);n=t}}return n}function ee(e,t,n){let r=!1;for(let i=0,o=t.length;i<o;i++){let o,a=t[i];if(a instanceof Node)e.push(a);else if(null==a||!0===a||!1===a);else if(Array.isArray(a))r=ee(e,a)||r;else if("string"==(o=typeof a))e.push(document.createTextNode(a));else if("function"===o)if(n){for(;"function"==typeof a;)a=a();r=ee(e,Array.isArray(a)?a:[a])||r}else e.push(a),r=!0;else e.push(document.createTextNode(a.toString()))}return r}function te(e,t,n){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ne(e,t,n,r){if(void 0===n)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let r=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const t=a.parentNode===e;r||o?t&&e.removeChild(a):t?e.replaceChild(i,a):e.insertBefore(i,n)}else r=!0}}else e.insertBefore(i,n);return[i]}function re(e){const{useShadow:t}=e,n=document.createTextNode(""),r=e.mount||document.body;function i(){return()=>e.children}if(r instanceof HTMLHeadElement){const[e,t]=h(!1),n=()=>t(!0);p((t=>J(r,(()=>e()?t():i()()),null))),$((()=>{n()}))}else{const o=function(e,t=!1){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(e.isSVG?"g":"div",e.isSVG),a=t&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"host",{get:()=>n.parentNode}),J(a,i()),r.appendChild(o),e.ref&&e.ref(o),$((()=>r.removeChild(o)))}return n}const ie={info:'<svg width="14" height="16" viewBox="0 0 14 16" class="octicon octicon-info" aria-hidden="true"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z" /></svg>',error:'<svg width="14" height="16" viewBox="0 0 14 16" class="octicon octicon-stop" aria-hidden="true"><path fill-rule="evenodd" d="M10 1H4L0 5v6l4 4h6l4-4V5l-4-4zm3 9.5L9.5 14h-5L1 10.5v-5L4.5 2h5L13 5.5v5zM6 4h2v5H6V4zm0 6h2v2H6v-2z"/></svg>',success:'<svg width="12" height="16" viewBox="0 0 12 16" class="octicon octicon-check" aria-hidden="true"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5L12 5z" /></svg>',warning:'<svg width="16" height="16" viewBox="0 0 16 16" class="octicon octicon-alert" aria-hidden="true"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg>',loading:'<svg class="Toast--spinner" viewBox="0 0 32 32" width="18" height="18"><path fill="#959da5" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/><path fill="#ffffff" d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"></path></svg>'};let oe;function ae(e,t){oe||(oe=document.createElement("div"),oe.className="toast-wrapper position-fixed bottom-0 left-0 mb-3 ml-3",oe.style.zIndex="2000",document.body.appendChild(oe));const n=(null==t?void 0:t.type)||"info",r=document.createElement("div");r.className=`Toast Toast--animateIn Toast--${n}`,r.innerHTML=`\n    <span class="Toast-icon">${ie[n]}</span>\n    <span class="Toast-content"></span>\n    <button class="Toast-dismissButton" data-dismiss="toast">\n      <svg width="12" height="16" viewBox="0 0 12 16" class="octicon octicon-x" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z" /></svg>\n    </button>\n  </div>`,(null==t?void 0:t.className)&&(r.className+=t.className),!1===(null==t?void 0:t.dismissable)&&r.querySelector(".Toast-dismissButton").remove(),"string"==typeof e?(null==t?void 0:t.html)?r.querySelector(".Toast-content").innerHTML=e:r.querySelector(".Toast-content").textContent=e:r.querySelector(".Toast-content").appendChild(e);let i=!1;function o(){i||(i=!0,r.style.pointerEvents="none",r.classList.add("Toast--animateOut"),setTimeout((()=>r.remove()),200))}if(r.addEventListener("click",(e=>{e.target.closest("[data-dismiss=toast]")&&("A"===e.target.tagName&&"#"===e.target.getAttribute("href")&&e.preventDefault(),o())}),!1),oe.appendChild(r),setTimeout((()=>{r.classList.remove("Toast--animateIn")}),200),!(null==t?void 0:t.sticky)){const e=(null==t?void 0:t.timeout)||3e3;e&&setTimeout(o,e)}return o}const se=Symbol("store-raw"),le=Symbol("store-node"),ce=Symbol("store-name");function de(e,t){let r=e[n];if(!r){Object.defineProperty(e,n,{value:r=new Proxy(e,ve)});const t=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let n=0,o=t.length;n<o;n++){const o=t[n];if(i[o].get){const t=i[o].get.bind(r);Object.defineProperty(e,o,{get:t})}}}return r}function ue(e){return null!=e&&"object"==typeof e&&(!e.__proto__||e.__proto__===Object.prototype||Array.isArray(e))}function fe(e,t=new Set){let n,r,i,o;if(n=null!=e&&e[se])return n;if(!ue(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let n=0,o=e.length;n<o;n++)i=e[n],(r=fe(i,t))!==i&&(e[n]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const n=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let s=0,l=n.length;s<l;s++)o=n[s],a[o].get||(i=e[o],(r=fe(i,t))!==i&&(e[o]=r))}return e}function pe(e){let t=e[le];return t||Object.defineProperty(e,le,{value:t={}}),t}function he(){const[e,t]=h(void 0,{equals:!1,internal:!0});return e.$=t,e}const ve={get(e,t,r){if(t===se)return e;if(t===n)return r;const i=e[t];if(t===le||"__proto__"===t)return i;const o=ue(i);if(x()&&("function"!=typeof i||e.hasOwnProperty(t))){let n,r;o&&(n=pe(i))&&(r=n._||(n._=he()),r()),n=pe(e),r=n[t]||(n[t]=he()),r()}return o?de(i):i},set:()=>!0,deleteProperty:()=>!0,ownKeys:function(e){if(x()){const t=pe(e);(t._||(t._=he()))()}return Reflect.ownKeys(e)},getOwnPropertyDescriptor:function(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||t===n||t===le||t===ce||(delete r.value,delete r.writable,r.get=()=>e[n][t]),r}};function ge(e,t,n){if(e[t]===n)return;const r=Array.isArray(e),i=e.length,o=void 0===n,a=r||o===t in e;o?delete e[t]:e[t]=n;let s,l=pe(e);(s=l[t])&&s.$(),r&&e.length!==i&&(s=l.length)&&s.$(s,void 0),a&&(s=l._)&&s.$(s,void 0)}function me(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let i=0;i<r.length;i++)me(e,[r[i]].concat(t),[r[i]].concat(n));return}if(a&&"function"===o){for(let i=0;i<e.length;i++)r(e[i],i)&&me(e,[i].concat(t),[i].concat(n));return}if(a&&"object"===o){const{from:i=0,to:o=e.length-1,by:a=1}=r;for(let r=i;r<=o;r+=a)me(e,[r].concat(t),[r].concat(n));return}if(t.length>1)return void me(e[r],t,[r].concat(n));i=e[r],n=[r].concat(n)}let o=t[0];"function"==typeof o&&(o=o(i,n),o===i)||void 0===r&&null==o||(o=fe(o),void 0===r||ue(i)&&ue(o)&&!Array.isArray(o)?function(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];ge(e,i,t[i])}}(i,o):ge(e,r,o))}function ye(e,t){const n=fe(e||{});return[de(n),function(...e){_((()=>me(n,e)))}]}function be(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _e(e,t){var n=e[0],r=e[1],i=e[2],o=e[3];n=Se(n,r,i,o,t[0],7,-680876936),o=Se(o,n,r,i,t[1],12,-389564586),i=Se(i,o,n,r,t[2],17,606105819),r=Se(r,i,o,n,t[3],22,-1044525330),n=Se(n,r,i,o,t[4],7,-176418897),o=Se(o,n,r,i,t[5],12,1200080426),i=Se(i,o,n,r,t[6],17,-1473231341),r=Se(r,i,o,n,t[7],22,-45705983),n=Se(n,r,i,o,t[8],7,1770035416),o=Se(o,n,r,i,t[9],12,-1958414417),i=Se(i,o,n,r,t[10],17,-42063),r=Se(r,i,o,n,t[11],22,-1990404162),n=Se(n,r,i,o,t[12],7,1804603682),o=Se(o,n,r,i,t[13],12,-40341101),i=Se(i,o,n,r,t[14],17,-1502002290),n=$e(n,r=Se(r,i,o,n,t[15],22,1236535329),i,o,t[1],5,-165796510),o=$e(o,n,r,i,t[6],9,-1069501632),i=$e(i,o,n,r,t[11],14,643717713),r=$e(r,i,o,n,t[0],20,-373897302),n=$e(n,r,i,o,t[5],5,-701558691),o=$e(o,n,r,i,t[10],9,38016083),i=$e(i,o,n,r,t[15],14,-660478335),r=$e(r,i,o,n,t[4],20,-405537848),n=$e(n,r,i,o,t[9],5,568446438),o=$e(o,n,r,i,t[14],9,-1019803690),i=$e(i,o,n,r,t[3],14,-187363961),r=$e(r,i,o,n,t[8],20,1163531501),n=$e(n,r,i,o,t[13],5,-1444681467),o=$e(o,n,r,i,t[2],9,-51403784),i=$e(i,o,n,r,t[7],14,1735328473),n=xe(n,r=$e(r,i,o,n,t[12],20,-1926607734),i,o,t[5],4,-378558),o=xe(o,n,r,i,t[8],11,-2022574463),i=xe(i,o,n,r,t[11],16,1839030562),r=xe(r,i,o,n,t[14],23,-35309556),n=xe(n,r,i,o,t[1],4,-1530992060),o=xe(o,n,r,i,t[4],11,1272893353),i=xe(i,o,n,r,t[7],16,-155497632),r=xe(r,i,o,n,t[10],23,-1094730640),n=xe(n,r,i,o,t[13],4,681279174),o=xe(o,n,r,i,t[0],11,-358537222),i=xe(i,o,n,r,t[3],16,-722521979),r=xe(r,i,o,n,t[6],23,76029189),n=xe(n,r,i,o,t[9],4,-640364487),o=xe(o,n,r,i,t[12],11,-421815835),i=xe(i,o,n,r,t[15],16,530742520),n=ke(n,r=xe(r,i,o,n,t[2],23,-995338651),i,o,t[0],6,-198630844),o=ke(o,n,r,i,t[7],10,1126891415),i=ke(i,o,n,r,t[14],15,-1416354905),r=ke(r,i,o,n,t[5],21,-57434055),n=ke(n,r,i,o,t[12],6,1700485571),o=ke(o,n,r,i,t[3],10,-1894986606),i=ke(i,o,n,r,t[10],15,-1051523),r=ke(r,i,o,n,t[1],21,-2054922799),n=ke(n,r,i,o,t[8],6,1873313359),o=ke(o,n,r,i,t[15],10,-30611744),i=ke(i,o,n,r,t[6],15,-1560198380),r=ke(r,i,o,n,t[13],21,1309151649),n=ke(n,r,i,o,t[4],6,-145523070),o=ke(o,n,r,i,t[11],10,-1120210379),i=ke(i,o,n,r,t[2],15,718787259),r=ke(r,i,o,n,t[9],21,-343485551),e[0]=Ne(n,e[0]),e[1]=Ne(r,e[1]),e[2]=Ne(i,e[2]),e[3]=Ne(o,e[3])}function we(e,t,n,r,i,o){return t=Ne(Ne(t,e),Ne(r,o)),Ne(t<<i|t>>>32-i,n)}function Se(e,t,n,r,i,o,a){return we(t&n|~t&r,e,t,i,o,a)}function $e(e,t,n,r,i,o,a){return we(t&r|n&~r,e,t,i,o,a)}function xe(e,t,n,r,i,o,a){return we(t^n^r,e,t,i,o,a)}function ke(e,t,n,r,i,o,a){return we(n^(t|~r),e,t,i,o,a)}function Ce(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var Ae="0123456789abcdef".split("");function Ee(e){for(var t="",n=0;n<4;n++)t+=Ae[e>>8*n+4&15]+Ae[e>>8*n&15];return t}function Le(e){return function(e){for(var t=0;t<e.length;t++)e[t]=Ee(e[t]);return e.join("")}(function(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)_e(r,Ce(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(_e(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,_e(r,i),r}(e))}function Ne(e,t){return e+t&4294967295}"5d41402abc4b2a76b9719d911017c592"!=Le("hello")&&(Ne=function(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n});var je={"2.11.0":{1:{4:"jbjsz6CcmZQCViyBvtBwDdT6TRX09FR1"}},"2.11.1":{1:{5:"WwkfRfjpaJIrbQQQlGOvfh31yHJeHV6g"},2:{5:"xV8v4Qu54lUKrEYFZkJhB8cuOh9Asafs"}},"2.12.0":{1:{4:"9IWzPQ37VvLXz86pwiIJK55c8BRGF8zB"}},"2.12.1":{1:{2:"I4Yzj5EHZIVcEX6nYd1L3tdNqe3F0Xkc",5:"48MMWHcOuxdqKSmb8OeMyiw5xdCHd1CF"},2:{5:"xV8v4Qu54lUKrEYFZkJhB8cuOh9Asafs"}},latest:"2.12.1"};function Oe(e,t){var n,r,i,o,a,s,l,c;let d=null==(r=null==(n=je[je.latest])?void 0:n[1])?void 0:r[5];if("object"==typeof e)d=e.salt||(null==(o=null==(i=je[e.app_version])?void 0:i[1])?void 0:o[e.client_type]);else if(e&&(d=null==(s=null==(a=je[t||je.latest])?void 0:a[1])?void 0:s[e],!d&&!t)){const t=je.latest.slice(0,je.latest.lastIndexOf("."));for(let n=+je.latest.slice(t.length+1)-1;n>=0&&!d;--n)d=null==(c=null==(l=je[`${t}.${n}`])?void 0:l[1])?void 0:c[e]}if(!d)throw new Error("no salt found");return function(e){const t=Date.now()/1e3|0,n=Math.random().toString(36).substr(2,6),r=Le(`salt=${e}&t=${t}&r=${n}`);return`${t},${n},${r}`}(d)}function Te(e,t,n,r){var i,o,a,s,l,c,d,u;let f=null==(o=null==(i=je[je.latest])?void 0:i[2])?void 0:o[5];if("object"==typeof n)f=n.salt||(null==(s=null==(a=je[n.app_version])?void 0:a[2])?void 0:s[n.client_type]);else if(n&&(f=null==(c=null==(l=je[r||je.latest])?void 0:l[2])?void 0:c[n],!f&&!r)){const e=je.latest.slice(0,je.latest.lastIndexOf("."));for(let t=+je.latest.slice(e.length+1)-1;t>=0&&!f;--t)f=null==(u=null==(d=je[`${e}.${t}`])?void 0:d[1])?void 0:u[n]}if(!f)throw new Error("no salt found");return null==e?e="":"object"==typeof e&&(e=JSON.stringify(e)),null==t?t="":"object"==typeof t&&(t=function(e){if(e instanceof URLSearchParams){e.sort();const t=e.toString();return"?"===t[0]?t.slice(1):t}const t=[];for(const n of Object.keys(e).sort()){const r=e[n];null!=r&&t.push(`${n}=${r}`)}return t.join("&")}(t)),function(e,t,n){const r=Date.now()/1e3|0,i=(""+(1e5+1e5*Math.random()|0)).slice(-6),o=Le(`salt=${e}&t=${r}&r=${i}&b=${t}&q=${n}`);return`${r},${i},${o}`}(f,e,t)}function Re(e){const t={"x-rpc-app_version":e.app_version||je.latest,"x-rpc-client_type":e.client_type+""};return 2==e.client_type&&(t.referer="https://app.mihoyo.com",t["x-rpc-channel"]="miyousheluodi"),e.channel&&(t["x-rpc-channel"]=e.channel),e.device_id&&(t["x-rpc-device_id"]=e.device_id),5==e.client_type&&(t["x-requested-with"]="com.mihoyo.hyperion"),t}class Be extends Error{constructor(e,n){const r="number"==typeof e?e:e.status;super(`HTTP Error ${r}`),t(this,"name","HTTPError"),t(this,"status"),t(this,"statusText"),t(this,"response"),this.status=r,this.statusText=n||e.statusText,this.response="number"==typeof e?null:e}}class Pe extends Error{constructor(e,n){super(e),t(this,"name","APIError"),t(this,"code"),this.code=n}}class Me extends Error{constructor(){super(...arguments),t(this,"name","AbortError"),t(this,"isCanceled",!0)}}function De(e){if("string"==typeof e||"number"==typeof e||e instanceof URLSearchParams)return e+"";const t=[];for(const n in e)if(be(e,n)){const r=e[n];if(null==r)continue;t.push(`${encodeURIComponent(n)}=${encodeURIComponent(r)}`)}return t.length?"?"+t.join("&"):""}function Ke(e,t){return"string"==typeof e&&(t||"undefined"==typeof location||(t=location.href),e=new URL(e,t)),e.searchParams}const qe=function(e,t){(null==t?void 0:t.prefixUrl)&&(e=new URL(e,t.prefixUrl));const n=".mihoyo.com",r="string"==typeof e?e.includes(n):e.hostname.endsWith(n),i=new AbortController;let o;const a={signal:i.signal};if(t){let n;a.method=t.method||"GET",t.searchParams&&("string"==typeof e&&(e=new URL(e)),e.search=De(t.searchParams)),!1===t.followRedirect&&(a.redirect="manual"),t.body?a.body=t.body:t.json?(a.body=JSON.stringify(t.json),n="application/json"):t.form&&(a.body=De(t.form),n="application/x-www-form-urlencoded");const r=a.headers=new Headers(t.headers);if(n||t.ds||t.client_type){let i;if(n&&!r.has("Content-Type")&&r.set("Content-Type",n),t.ds?i=t.ds.ds2||t.ds2?Te(a.body,Ke(e),t.ds):Oe(t.ds):t.client_type&&(i=t.ds2?Te(a.body,Ke(e),t.client_type,t.app_version):Oe(t.client_type,t.app_version)),i){r.has("DS")||r.set("DS",i);const e=Re(t.ds||t);for(const t in e)!r.has(t)&&be(e,t)&&r.set(t,e[t])}}t.signal&&t.signal.addEventListener("abort",(()=>i.abort())),t.timeout&&(o=setTimeout((()=>i.abort()),t.timeout)),t.resolveUrl&&(e=t.resolveUrl(e,t))}const s=fetch(e,a).then((e=>{if(o&&clearInterval(o),!e.ok&&!1!==(null==t?void 0:t.throwHttpErrors))throw new Be(e);let n;if(t){switch(t.responseType){case"text":n=e.text();break;case"json":n=e.json(),r&&(n=n.then((e=>{if(null!=e.retcode){if(e.retcode)throw new Pe(e.message,e.retcode);return e.data}return e})));break;case"buffer":case"arraybuffer":n=e.arrayBuffer();break;case"formdata":n=e.formData()}if(t.resolveBodyOnly&&n)return n}return n?n.then((t=>({ok:e.ok,url:e.url,status:e.status,statusText:e.statusText,redirected:e.redirected,headers:e.headers,body:t}))):e}),(e=>(o&&clearInterval(o),e&&"AbortError"===e.name?Promise.reject(new Me(e.message)):Promise.reject(e))));return Object.defineProperty(s,"isCanceled",{get:()=>i.signal.aborted}),s.cancel=()=>i.abort(),s};qe.extend=function(e){return(t,n)=>qe(t,{...e,...n})};var Ie,He,ze,Ue,Xe=qe;function Ye(e){const t=typeof e;return"number"==t||"string"==t?10000005==e||10000007==e:Ye(e.id)}function We(e){switch((e+"").charAt(0)){case"1":return"cn_gf01";case"5":return"cn_qd01";case"6":return"os_usa";case"7":return"os_euro";case"8":return"os_asia";case"9":return"os_cht";default:return""}}(He=Ie||(Ie={})).SUMMARY="summary",He.ROLES="roles",He.ABYSS="abyss",(Ue=ze||(ze={})).NONE="",Ue.ASC="asc",Ue.DESC="desc";const Fe={},Ve="undefined"!=typeof chrome&&chrome.storage||"undefined"!=typeof browser&&browser.storage;function Ge(e,t){if(Ve)return"string"==typeof e?void 0===t?new Promise((t=>Ve.local.get(e,t))).then((t=>t[e])):new Promise((n=>Ve.local.get({[e]:t},n))).then((t=>t[e])):new Promise((t=>Ve.local.get(e,t)));if("undefined"!=typeof localStorage){if("string"==typeof e){const n=localStorage.getItem(e);return Promise.resolve(null==n?t:n)}if(Array.isArray(e)){const t={};for(const n of e)t[n]=localStorage.getItem(n);return Promise.resolve(t)}{const t={};for(const n in e)if(be(e,n)){const r=localStorage.getItem(n);t[n]=null==r?e[n]:r}return Promise.resolve(t)}}return Promise.resolve(null)}function Je(e,t){if(Ve)return new Promise((n=>{"string"==typeof e?Ve.local.set({[e]:t},n):Ve.local.set(e,n)}));if("undefined"!=typeof localStorage)if("string"==typeof e)localStorage.setItem(e,t);else for(const n in e)be(e,n)&&localStorage.setItem(n,e[n]);return Promise.resolve()}const[Qe,Ze]=ye({uid:"",uids:[],page:Ie.ROLES,stick_header:!1,stick_group_banner:!1});async function et(){const e=await Ge(["uids","stick_header","stick_group_banner"]);if(!e)return;let t=e.uids?e.uids.split(","):[];var n,r;return t.length>0&&!t[0]&&(t=[]),t.length||(n="hk4e_cn",r=Fe,Xe(`https://api-takumi.mihoyo.com/binding/api/getUserGameRolesByCookie?game_biz=${n}`,{...r,client_type:5,responseType:"json",resolveBodyOnly:!0,ds2:!0}).then((e=>e.list))).then((e=>{e.length&&!Qe.uid&&Ze({uid:e[0].game_uid})}),(e=>{e instanceof TypeError&&("Failed to fetch"===e.message||"NetworkError when attempting to fetch resource."===e.message)?ae('网络请求失败，建议<a href="https://github.com/leonismoe/genshin-stats/releases/latest" target="_blank">下载</a>安装浏览器扩展版本，或者<a href="genshin-stats.user.js" target="_blank" data-dismiss="toast">点击此处</a>安装用户脚本（建议使用 <a href="https://chrome.google.com/webstore/detail/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank">Tampermonkey</a>）以便发起跨域请求。',{type:"error",sticky:!0,html:!0}):-100===e.code?ae('尚未登录或登录失效，请<a href="https://bbs.mihoyo.com/ys/" target="_blank" rel="noreferrer" referrerpolicy="no-referrer" data-dismiss="toast">点击此处</a>前往米油社原神社区登录，之后返回此页面查询。',{type:"error",sticky:!0,html:!0}):ae(e.message,{type:"error",timeout:5e3})})),{uid:t[0]||"",uids:t,stick_header:"true"===e.stick_header,stick_group_banner:"true"===e.stick_group_banner}}p((()=>{et().then((e=>e&&Ze(e))),m((()=>{Je("uids",Qe.uids.join(","))})),m((()=>{Je("stick_header",""+Qe.stick_header)})),m((()=>{Je("stick_group_banner",""+Qe.stick_group_banner)}))}));const[tt,nt]=h();let rt;function it(e,t){if(!rt){let e=document.querySelector("link[rel=stylesheet], style");e&&e.sheet||(e=document.createElement("style"),document.head.appendChild(e));const t=e.sheet;t.addRule(":root",""),rt=t.cssRules[t.cssRules.length-1]}rt.style.setProperty(e,t)}const ot=function(e,t){(null==t?void 0:t.prefixUrl)&&(e=new URL(e,t.prefixUrl));const n=".mihoyo.com",r="string"==typeof e?e.includes(n):e.hostname.endsWith(n),i=new AbortController;let o;const a={signal:i.signal};if(t){let n;a.method=t.method||"GET",t.searchParams&&("string"==typeof e&&(e=new URL(e)),e.search=De(t.searchParams)),!1===t.followRedirect&&(a.redirect="manual"),t.body?a.body=t.body:t.json?(a.body=JSON.stringify(t.json),n="application/json"):t.form&&(a.body=De(t.form),n="application/x-www-form-urlencoded");const r=a.headers=new Headers(t.headers);if(n||t.ds||t.client_type){let i;if(n&&!r.has("Content-Type")&&r.set("Content-Type",n),t.ds?i=t.ds.ds2||t.ds2?Te(a.body,Ke(e),t.ds):Oe(t.ds):t.client_type&&(i=t.ds2?Te(a.body,Ke(e),t.client_type,t.app_version):Oe(t.client_type,t.app_version)),i){r.has("DS")||r.set("DS",i);const e=Re(t.ds||t);for(const t in e)!r.has(t)&&be(e,t)&&r.set(t,e[t])}}t.signal&&t.signal.addEventListener("abort",(()=>i.abort())),t.timeout&&(o=setTimeout((()=>i.abort()),t.timeout)),t.resolveUrl&&(e=t.resolveUrl(e,t))}const s=fetch(e,a).then((e=>{if(o&&clearInterval(o),!e.ok&&!1!==(null==t?void 0:t.throwHttpErrors))throw new Be(e);let n;if(t){switch(t.responseType){case"text":n=e.text();break;case"json":n=e.json(),r&&(n=n.then((e=>{if(null!=e.retcode){if(e.retcode)throw new Pe(e.message,e.retcode);return e.data}return e})));break;case"buffer":case"arraybuffer":n=e.arrayBuffer();break;case"formdata":n=e.formData()}if(t.resolveBodyOnly&&n)return n}return n?n.then((t=>({ok:e.ok,url:e.url,status:e.status,statusText:e.statusText,redirected:e.redirected,headers:e.headers,body:t}))):e}),(e=>(o&&clearInterval(o),e&&"AbortError"===e.name?Promise.reject(new Me(e.message)):Promise.reject(e))));return Object.defineProperty(s,"isCanceled",{get:()=>i.signal.aborted}),s.cancel=()=>i.abort(),s};function at(e,t=1,n){const r=We(e);return ot(`https://api-takumi.mihoyo.com/game_record/app/genshin/api/spiralAbyss?schedule_type=${t}&server=${r}&role_id=${e}`,{...n,client_type:5,responseType:"json",resolveBodyOnly:!0,ds2:!0})}var st,lt,ct,dt,ut,ft,pt,ht,vt,gt;ot.extend=function(e){return(t,n)=>ot(t,{...e,...n})},(lt=st||(st={})).None="None",lt.Fire="Pyro",lt.Water="Hydro",lt.Wind="Anemo",lt.Lightning="Electro",lt.Nature="Dendro",lt.Ice="Cryo",lt.Earth="Geo",(dt=ct||(ct={})).Reputation="Reputation",dt.Offering="Offering",(ft=ut||(ut={}))[ft.CURRENT=1]="CURRENT",ft[ft.PREVIOUS=2]="PREVIOUS",(ht=pt||(pt={}))[ht.Sword=1]="Sword",ht[ht.Claymore=11]="Claymore",ht[ht.Polearm=13]="Polearm",ht[ht.Bow=12]="Bow",ht[ht.Catalyst=10]="Catalyst",(gt=vt||(vt={}))[gt.Flower=1]="Flower",gt[gt.Plume=2]="Plume",gt[gt.Sands=3]="Sands",gt[gt.Goblet=4]="Goblet",gt[gt.Circlet=5]="Circlet";var mt=[{id:10000003,codename:"Qin",rarity:5,name:{chs:"琴",cht:"琴",de:"Jean",en:"Jean",es:"Jean",fr:"Jean",id:"Jean",jp:"ジン",kr:"진",pt:"Jean",ru:"Джинн",th:"Jean",vi:"Jean"},assoc:"Mondstadt",weapon:"Sword",vision:"Anemo",birthday:"0314",release_date:"20200915"},{id:10000006,codename:"Lisa",rarity:4,name:{chs:"丽莎",cht:"麗莎",de:"Lisa",en:"Lisa",es:"Lisa",fr:"Lisa",id:"Lisa",jp:"リサ",kr:"리사",pt:"Lisa",ru:"Лиза",th:"Lisa",vi:"Lisa"},assoc:"Mondstadt",weapon:"Catalyst",vision:"Electro",birthday:"0609",release_date:"20200915"},{id:10000014,codename:"Barbara",rarity:4,name:{chs:"芭芭拉",cht:"芭芭拉",de:"Barbara",en:"Barbara",es:"Bárbara",fr:"Barbara",id:"Barbara",jp:"バーバラ",kr:"바바라",pt:"Barbara",ru:"Барбара",th:"Barbara",vi:"Barbara"},assoc:"Mondstadt",weapon:"Catalyst",vision:"Hydro",birthday:"0705",release_date:"20200915"},{id:10000015,codename:"Kaeya",rarity:4,name:{chs:"凯亚",cht:"凱亞",de:"Kaeya",en:"Kaeya",es:"Kaeya",fr:"Kaeya",id:"Kaeya",jp:"ガイア",kr:"케이아",pt:"Kaeya",ru:"Кэйа",th:"Kaeya",vi:"Kaeya"},assoc:"Mondstadt",weapon:"Sword",vision:"Cryo",birthday:"1130",release_date:"20200915"},{id:10000016,codename:"Diluc",rarity:5,name:{chs:"迪卢克",cht:"迪盧克",de:"Diluc",en:"Diluc",es:"Diluc",fr:"Diluc",id:"Diluc",jp:"ディルック",kr:"다이루크",pt:"Diluc",ru:"Дилюк",th:"Diluc",vi:"Diluc"},assoc:"Mondstadt",weapon:"Claymore",vision:"Pyro",birthday:"0430",release_date:"20200915"},{id:10000020,codename:"Razor",rarity:4,name:{chs:"雷泽",cht:"雷澤",de:"Razor",en:"Razor",es:"Razor",fr:"Razor",id:"Razor",jp:"レザー",kr:"레이저",pt:"Razor",ru:"Рэйзор",th:"Razor",vi:"Razor"},assoc:"Mondstadt",weapon:"Claymore",vision:"Electro",birthday:"0909",release_date:"20200915"},{id:10000021,codename:"Ambor",rarity:4,name:{chs:"安柏",cht:"安柏",de:"Amber",en:"Amber",es:"Amber",fr:"Amber",id:"Amber",jp:"アンバー",kr:"엠버",pt:"Amber",ru:"Эмбер",th:"Amber",vi:"Amber"},assoc:"Mondstadt",weapon:"Bow",vision:"Pyro",birthday:"0810",release_date:"20200915"},{id:10000022,codename:"Venti",rarity:5,name:{chs:"温迪",cht:"溫迪",de:"Venti",en:"Venti",es:"Venti",fr:"Venti",id:"Venti",jp:"ウェンティ",kr:"벤티",pt:"Venti",ru:"Венти",th:"Venti",vi:"Venti"},assoc:"Mondstadt",weapon:"Bow",vision:"Anemo",birthday:"0616",release_date:"20200915"},{id:10000023,codename:"Xiangling",rarity:4,name:{chs:"香菱",cht:"香菱",de:"Xiangling",en:"Xiangling",es:"Xiangling",fr:"Xiangling",id:"Xiangling",jp:"香菱",kr:"향릉",pt:"Xiangling",ru:"Сян Лин",th:"Xiangling",vi:"Xiangling"},assoc:"Liyue",weapon:"Polearm",vision:"Pyro",birthday:"1102",release_date:"20200915"},{id:10000024,codename:"Beidou",rarity:4,name:{chs:"北斗",cht:"北斗",de:"Beidou",en:"Beidou",es:"Beidou",fr:"Beidou",id:"Beidou",jp:"北斗",kr:"북두",pt:"Beidou",ru:"Бэй Доу",th:"Beidou",vi:"Beidou"},assoc:"Liyue",weapon:"Claymore",vision:"Electro",birthday:"0214",release_date:"20200915"},{id:10000025,codename:"Xingqiu",rarity:4,name:{chs:"行秋",cht:"行秋",de:"Xingqiu",en:"Xingqiu",es:"Xingchiu",fr:"Xingqiu",id:"Xingqiu",jp:"行秋",kr:"행추",pt:"Xingqiu",ru:"Син Цю",th:"Xingqiu",vi:"Xingqiu"},assoc:"Liyue",weapon:"Sword",vision:"Hydro",birthday:"1009",release_date:"20200915"},{id:10000027,codename:"Ningguang",rarity:4,name:{chs:"凝光",cht:"凝光",de:"Ningguang",en:"Ningguang",es:"Ninguang",fr:"Ningguang",id:"Ningguang",jp:"凝光",kr:"응광",pt:"Ningguang",ru:"Нин Гуан",th:"Ningguang",vi:"Ningguang"},assoc:"Liyue",weapon:"Catalyst",vision:"Geo",birthday:"0826",release_date:"20200915"},{id:10000029,codename:"Klee",rarity:5,name:{chs:"可莉",cht:"可莉",de:"Klee",en:"Klee",es:"Klee",fr:"Klee",id:"Klee",jp:"クレー",kr:"클레",pt:"Klee",ru:"Кли",th:"Klee",vi:"Klee"},assoc:"Mondstadt",weapon:"Catalyst",vision:"Pyro",birthday:"0727",release_date:"20200915"},{id:10000031,codename:"Fischl",rarity:4,name:{chs:"菲谢尔",cht:"菲謝爾",de:"Fischl",en:"Fischl",es:"Fischl",fr:"Fischl",id:"Fischl",jp:"フィッシュル",kr:"피슬",pt:"Fischl",ru:"Фишль",th:"Fischl",vi:"Fischl"},assoc:"Mondstadt",weapon:"Bow",vision:"Electro",birthday:"0527",release_date:"20200915"},{id:10000032,codename:"Bennett",rarity:4,name:{chs:"班尼特",cht:"班尼特",de:"Bennett",en:"Bennett",es:"Bennett",fr:"Bennett",id:"Bennett",jp:"ベネット",kr:"베넷",pt:"Bennett",ru:"Беннет",th:"Bennett",vi:"Bennett"},assoc:"Mondstadt",weapon:"Sword",vision:"Pyro",birthday:"0229",release_date:"20200915"},{id:10000034,codename:"Noel",rarity:4,name:{chs:"诺艾尔",cht:"諾艾爾",de:"Noelle",en:"Noelle",es:"Noelle",fr:"Noëlle",id:"Noelle",jp:"ノエル",kr:"노엘",pt:"Noelle",ru:"Ноэлль",th:"Noelle",vi:"Noelle"},assoc:"Mondstadt",weapon:"Claymore",vision:"Geo",birthday:"0321",release_date:"20200915"},{id:10000035,codename:"Qiqi",rarity:5,name:{chs:"七七",cht:"七七",de:"Qiqi",en:"Qiqi",es:"Qiqi",fr:"Qiqi",id:"Qiqi",jp:"七七",kr:"치치",pt:"Qiqi",ru:"Ци Ци",th:"Qiqi",vi:"Qiqi"},assoc:"Liyue",weapon:"Sword",vision:"Cryo",birthday:"0303",release_date:"20200915"},{id:10000036,codename:"Chongyun",rarity:4,name:{chs:"重云",cht:"重雲",de:"Chongyun",en:"Chongyun",es:"Chongyun",fr:"Chongyun",id:"Chongyun",jp:"重雲",kr:"중운",pt:"Chongyun",ru:"Чун Юнь",th:"Chongyun",vi:"Chongyun"},assoc:"Liyue",weapon:"Claymore",vision:"Cryo",birthday:"0907",release_date:"20200915"},{id:10000041,codename:"Mona",rarity:5,name:{chs:"莫娜",cht:"莫娜",de:"Mona",en:"Mona",es:"Mona",fr:"Mona",id:"Mona",jp:"モナ",kr:"모나",pt:"Mona",ru:"Мона",th:"Mona",vi:"Mona"},assoc:"Mondstadt",weapon:"Catalyst",vision:"Hydro",birthday:"0831",release_date:"20200915"},{id:10000042,codename:"Keqing",rarity:5,name:{chs:"刻晴",cht:"刻晴",de:"Keqing",en:"Keqing",es:"Keching",fr:"Keqing",id:"Keqing",jp:"刻晴",kr:"각청",pt:"Keqing",ru:"Кэ Цин",th:"Keqing",vi:"Keqing"},assoc:"Liyue",weapon:"Sword",vision:"Electro",birthday:"1120",release_date:"20200915"},{id:10000043,codename:"Sucrose",rarity:4,name:{chs:"砂糖",cht:"砂糖",de:"Saccharose",en:"Sucrose",es:"Sacarosa",fr:"Sucrose",id:"Sucrose",jp:"スクロース",kr:"설탕",pt:"Sucrose",ru:"Сахароза",th:"Sucrose",vi:"Sucrose"},assoc:"Mondstadt",weapon:"Catalyst",vision:"Anemo",birthday:"1126",release_date:"20200915"},{id:10000033,codename:"Tartaglia",rarity:5,name:{chs:"达达利亚",cht:"達達利亞",de:"Tartaglia",en:"Tartaglia",es:"Tartaglia",fr:"Tartaglia",id:"Tartaglia",jp:"タルタリヤ",kr:"타르탈리아",pt:"Tartaglia",ru:"Тарталья",th:"Tartaglia",vi:"Tartaglia"},assoc:"Fatui",weapon:"Bow",vision:"Hydro",birthday:"0720",release_date:"20201111"},{id:10000039,codename:"Diona",rarity:4,name:{chs:"迪奥娜",cht:"迪奧娜",de:"Diona",en:"Diona",es:"Diona",fr:"Diona",id:"Diona",jp:"ディオナ",kr:"디오나",pt:"Diona",ru:"Диона",th:"Diona",vi:"Diona"},assoc:"Mondstadt",weapon:"Bow",vision:"Cryo",birthday:"0118",release_date:"20201111"},{id:10000030,codename:"Zhongli",rarity:5,name:{chs:"钟离",cht:"鍾離",de:"Zhongli",en:"Zhongli",es:"Zhongli",fr:"Zhongli",id:"Zhongli",jp:"鍾離",kr:"종려",pt:"Zhongli",ru:"Чжун Ли",th:"Zhongli",vi:"Zhongli"},assoc:"Liyue",weapon:"Polearm",vision:"Geo",birthday:"1231",release_date:"20201202"},{id:10000044,codename:"Xinyan",rarity:4,name:{chs:"辛焱",cht:"辛焱",de:"Xinyan",en:"Xinyan",es:"Xinyan",fr:"Xinyan",id:"Xinyan",jp:"辛炎",kr:"신염",pt:"Xinyan",ru:"Синь Янь",th:"Xinyan",vi:"Xinyan"},assoc:"Liyue",weapon:"Claymore",vision:"Pyro",birthday:"1016",release_date:"20201202"},{id:10000038,codename:"Albedo",rarity:5,name:{chs:"阿贝多",cht:"阿貝多",de:"Albedo",en:"Albedo",es:"Albedo",fr:"Albedo",id:"Albedo",jp:"アルベド",kr:"알베도",pt:"Albedo",ru:"Альбедо",th:"Albedo",vi:"Albedo"},assoc:"Mondstadt",weapon:"Sword",vision:"Geo",birthday:"0913",release_date:"20201222"},{id:10000037,codename:"Ganyu",rarity:5,name:{chs:"甘雨",cht:"甘雨",de:"Ganyu",en:"Ganyu",es:"Ganyu",fr:"Ganyu",id:"Ganyu",jp:"甘雨",kr:"감우",pt:"Ganyu",ru:"Гань Юй",th:"Ganyu",vi:"Ganyu"},assoc:"Liyue",weapon:"Bow",vision:"Cryo",birthday:"1202",release_date:"20210112"},{id:10000026,codename:"Xiao",rarity:5,name:{chs:"魈",cht:"魈",de:"Xiao",en:"Xiao",es:"Xiao",fr:"Xiao",id:"Xiao",jp:"魈",kr:"소",pt:"Xiao",ru:"Сяо",th:"Xiao",vi:"Xiao"},assoc:"Liyue",weapon:"Polearm",vision:"Anemo",birthday:"0417",release_date:"20210202"},{id:10000046,codename:"Hutao",rarity:5,name:{chs:"胡桃",cht:"胡桃",de:"Hu Tao",en:"Hu Tao",es:"Hu Tao",fr:"Hu Tao",id:"Hu Tao",jp:"胡桃",kr:"호두",pt:"Hutao",ru:"Ху Тао",th:"Hu Tao",vi:"Hu Tao"},assoc:"Liyue",weapon:"Polearm",vision:"Pyro",birthday:"0715",release_date:"20210302"},{id:10000045,codename:"Rosaria",rarity:4,name:{chs:"罗莎莉亚",cht:"蘿莎莉亞",de:"Rosaria",en:"Rosaria",es:"Rosaria",fr:"Rosalia",id:"Rosaria",jp:"ロサリア",kr:"로자리아",pt:"Rosaria",ru:"Розария",th:"Rosaria",vi:"Rosaria"},assoc:"Mondstadt",weapon:"Polearm",vision:"Cryo",birthday:"0124",release_date:"20210406"},{id:10000048,codename:"Feiyan",rarity:4,name:{chs:"烟绯",cht:"煙緋",de:"Yanfei",en:"Yanfei",es:"Yanfei",fr:"Yanfei",id:"Yanfei",jp:"煙緋",kr:"연비",pt:"Yanfei",ru:"Янь Фэй",th:"Yanfei",vi:"Yanfei"},assoc:"Liyue",weapon:"Catalyst",vision:"Pyro",birthday:"0728",release_date:"20210427"},{id:10000051,codename:"Eula",rarity:5,name:{chs:"优菈",cht:"優菈",de:"Eula",en:"Eula",es:"Eula",fr:"Eula",id:"Eula",jp:"エウルア",kr:"유라",pt:"Eula",ru:"Эола",th:"Eula",vi:"Eula"},assoc:"Mondstadt",weapon:"Claymore",vision:"Cryo",birthday:"1025",release_date:"20210518"},{id:10000047,codename:"Kazuha",rarity:5,name:{chs:"枫原万叶",cht:"楓原萬葉",de:"Kaedehara Kazuha",en:"Kaedehara Kazuha",es:"Kaedehara Kazuha",fr:"Kaedehara Kazuha",id:"Kaedehara Kazuha",jp:"楓原万葉",kr:"카에데하라 카즈하",pt:"Kaedehara Kazuha",ru:"Кадзуха",th:"Kaedehara Kazuha",vi:"Kaedehara Kazuha"},assoc:"Inazuma",weapon:"Sword",vision:"Anemo",birthday:"1029",release_date:"20210629"},{id:10000002,codename:"Ayaka",rarity:5,name:{chs:"神里绫华",cht:"神里綾華",de:"Kamisato Ayaka",en:"Kamisato Ayaka",es:"Kamisato Ayaka",fr:"Kamisato Ayaka",id:"Kamisato Ayaka",jp:"神里綾華",kr:"카미사토 아야카",pt:"Kamisato Ayaka",ru:"Аяка",th:"Kamisato Ayaka",vi:"Kamisato Ayaka"},assoc:"Inazuma",weapon:"Sword",vision:"Cryo",birthday:"0928",release_date:"20210721"},{id:10000049,codename:"Yoimiya",rarity:5,name:{chs:"宵宫",cht:"宵宮",de:"Yoimiya",en:"Yoimiya",es:"Yoimiya",fr:"Yoimiya",id:"Yoimiya",jp:"宵宮",kr:"요이미야",pt:"Yoimiya",ru:"Ёимия",th:"Yoimiya",vi:"Yoimiya"},assoc:"Inazuma",weapon:"Bow",vision:"Pyro",birthday:"0621",release_date:"20210810"},{id:10000053,codename:"Sayu",rarity:4,name:{chs:"早柚",cht:"早柚",de:"Sayu",en:"Sayu",es:"Sayu",fr:"Sayu",id:"Sayu",jp:"早柚",kr:"사유",pt:"Sayu",ru:"Саю",th:"Sayu",vi:"Sayu"},assoc:"Inazuma",weapon:"Claymore",vision:"Anemo",birthday:"1019",release_date:"20210810"},{id:10000052,codename:"Shougun",rarity:5,name:{chs:"雷电将军",cht:"雷電將軍",de:"Shougun Raiden",en:"Raiden Shogun",es:"Shogun Raiden",fr:"Shogun Raiden",id:"Raiden Shogun",jp:"雷電将軍",kr:"라이덴 쇼군",pt:"Shogun Raiden",ru:"Райдэн",th:"Raiden Shogun",vi:"Raiden Shogun"},assoc:"Inazuma",weapon:"Polearm",vision:"Electro",birthday:"0626",release_date:"20210901"},{id:10000056,codename:"Sara",rarity:4,name:{chs:"九条裟罗",cht:"九條裟羅",de:"Kujou Sara",en:"Kujou Sara",es:"Kujou Sara",fr:"Kujou Sara",id:"Kujou Sara",jp:"九条裟羅",kr:"쿠죠 사라",pt:"Kujou Sara",ru:"Сара",th:"Kujou Sara",vi:"Kujou Sara"},assoc:"Inazuma",weapon:"Bow",vision:"Electro",birthday:"0714",release_date:"20210901"},{id:10000062,codename:"Aloy",rarity:105,name:{chs:"埃洛伊",cht:"亞蘿伊",de:"Aloy",en:"Aloy",es:"Aloy",fr:"Aloy",id:"Aloy",jp:"アーロイ",kr:"에일로이",pt:"Aloy",ru:"Элой",th:"Aloy",vi:"Aloy"},assoc:"Ranger",weapon:"Bow",vision:"Cryo",birthday:"0404",release_date:"20210901"},{id:10000054,codename:"Kokomi",rarity:5,name:{chs:"珊瑚宫心海",cht:"珊瑚宮心海",de:"Sangonomiya Kokomi",en:"Sangonomiya Kokomi",es:"Sangonomiya Kokomi",fr:"Sangonomiya Kokomi",id:"Sangonomiya Kokomi",jp:"珊瑚宮心海",kr:"산고노미야 코코미",pt:"Sangonomiya Kokomi",ru:"Кокоми",th:"Sangonomiya Kokomi",vi:"Sangonomiya Kokomi"},assoc:"Inazuma",weapon:"Catalyst",vision:"Hydro",birthday:"0222",release_date:"20210921"}];const yt={id:"ID",level:"等级",fetter:"好感",rarity:"星级品质",element:"元素",release_date:"发布日期",actived_constellation_num:"命座"},bt=["fetter","level","rarity","element","actived_constellation_num","release_date"],_t=["fetter","level","id","rarity","actived_constellation_num","release_date"],wt=Object.create(null);function St(){for(const e of mt)e.id&&(wt[e.id]=e)}function $t(e){const t=e.image.slice(79,-4);let n=mt.find((n=>n.codename===t||n.name.chs===e.name));return n?(n.id=e.id,n.vision=e.element,n.rarity=e.rarity,n.codename=t,n.name={chs:e.name,en:t}):(n={id:e.id,codename:t,vision:e.element,weapon:"",rarity:e.rarity,name:{chs:e.name,en:t},assoc:"",birthday:"",release_date:""},mt.push(n)),St(),n}St(),Ge("roledata-db").then((e=>{if(e){const t=JSON.parse(e);for(let e=0;e<t.length;){const n=t[e];if(n&&n.id&&!wt[n.id]){const t=mt.find((e=>e.name===n.name||e.name.chs===n.name.chs));t?(t.id=n.id,t.vision=n.vision,t.rarity=n.rarity,t.codename=n.codename,t.name=n.name):mt.push(n),e++}else t.splice(e,1)}t.length?Je("roledata-db",JSON.stringify(t)):function(e){if(Ve)return new Promise((t=>Ve.local.remove(e,t)));if("undefined"!=typeof localStorage)if("string"==typeof e)localStorage.removeItem(e);else for(const t of e)localStorage.removeItem(t);Promise.resolve()}("roledata-db")}}));const xt=[{column:"fetter",sort:ze.DESC},{column:"level",sort:ze.DESC},{column:"id",sort:ze.ASC},{column:"rarity",sort:ze.DESC},{column:"actived_constellation_num",sort:ze.DESC},{column:"release_date",sort:ze.DESC}];const[kt,Ct]=p((function(){let e=()=>"";const t={show_not_owned:!1,grouping:"",grouping_sort:ze.ASC,sorting:xt,get serialized_sorting(){return e()}},[n,r]=ye(t);return e=y((()=>{const e=[];for(const t of n.sorting)e.push(`${t.column},${t.sort}`);return e.join("|")})),function(e){m((()=>{Je("grouping",`${e.grouping},${e.grouping_sort}`)})),m((()=>{Je("show_not_owned",""+e.show_not_owned)})),m((()=>{Je("sorting",e.serialized_sorting)}))}(n),async function(){const e=await Ge(["show_not_owned","grouping","sorting"]);if(!e)return;let t="",n=ze.ASC;if(e.grouping){const[r,i]=e.grouping.split(",");!bt.includes(r)||i!=ze.ASC&&i!=ze.DESC||(t=r,n=i)}return{show_not_owned:"true"===e.show_not_owned,grouping:t,grouping_sort:n,sorting:At(e.sorting)||JSON.parse(JSON.stringify(xt))}}().then((e=>e&&r(e))),[n,r]}));function At(e){if(!e)return;const t=[],n={};for(const r of e.split("|")){const[e,i]=r.split(",");if("asc"!==i&&"desc"!==i)return;n[e]=!0,t.push({column:e,sort:i})}for(const r of xt)if(!n[r.column])return;return t}const[Et,Lt]=p((function(){const[e]=b(tt,((e,t)=>function(e,t){const n=We(e);return ot(`https://api-takumi.mihoyo.com/game_record/app/genshin/api/index?server=${n}&role_id=${e}`,{...t,client_type:5,responseType:"json",resolveBodyOnly:!0,ds2:!0})}(Qe.uid,Fe).then((e=>{const t=[];for(const n of e.avatars){let e=wt[n.id];if(e)n.release_date=e.release_date;else if(Ye(n.id))n.fetter=NaN,n.release_date="20200915";else{const e=$t({...n});t.push(e),n.release_date=e.release_date}n.special_rarity=0,n.rarity>10&&(n.special_rarity=n.rarity,n.rarity%=10)}return t.length&&async function(e){let t=e;const n=await Ge("roledata-db");if(n)try{t=JSON.parse(n);for(const n of e)t.find((e=>e.id===n.id))||t.push(n)}catch(r){}Je("roledata-db",JSON.stringify(t))}(t),e}),(e=>{e instanceof TypeError&&("Failed to fetch"===e.message||"NetworkError when attempting to fetch resource."===e.message)?ae('网络请求失败，建议<a href="https://github.com/leonismoe/genshin-stats/releases/latest" target="_blank">下载</a>安装浏览器扩展版本，或者<a href="genshin-stats.user.js" target="_blank" data-dismiss="toast">点击此处</a>安装用户脚本（建议使用 <a href="https://chrome.google.com/webstore/detail/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank">Tampermonkey</a>）以便发起跨域请求。',{type:"error",sticky:!0,html:!0}):10001===e.code?ae('尚未登录或登录失效，请<a href="https://bbs.mihoyo.com/ys/" target="_blank" rel="noreferrer" referrerpolicy="no-referrer" data-dismiss="toast">点击此处</a>前往米油社原神社区登录，之后返回此页面查询。',{type:"error",sticky:!0,html:!0}):ae(e.message,{type:"error",timeout:5e3})})))),[t]=b((()=>[e.loading,e()]),(([e,t],n)=>!e&&t?async function(e,t,n){let r;if(Array.isArray(t)){if(0===t.length)throw new Error("no characters provided");r="number"==typeof t[0]?t:t.map((e=>e.id))}else r=t.avatars.map((e=>e.id));return(await ot("https://api-takumi.mihoyo.com/game_record/app/genshin/api/character",{...n,method:"POST",responseType:"json",resolveBodyOnly:!0,client_type:5,ds2:!0,json:{character_ids:r,role_id:""+e,server:We(e)}})).avatars}(Qe.uid,t.avatars,Fe).catch((e=>{})):Promise.resolve())),[n]=b((()=>[e.loading,e()]),(([e,t],n)=>!e&&t?Promise.all([at(Qe.uid,ut.CURRENT,Fe),at(Qe.uid,ut.PREVIOUS,Fe)]):Promise.resolve()));let r=()=>[],i=()=>[],o=()=>({}),a=()=>{};const[s,l]=ye({get loading(){return e.loading},get stats(){return e()},get roles(){return r()},get groups(){return i()},get details(){return t()},get detailMap(){return o()},get abysses(){return n()},get isAbyssLoading(){return n.loading},get activeAbyss(){return a()},abyssIndex:0});return r=y((()=>{const e=s.stats,t=e?e.avatars.slice():[];if(kt.show_not_owned){const e=Object.create(null);for(const r of t)e[r.id]=r;const n=(new Date).toISOString().slice(0,10).replace(/-/g,"");for(const r of mt)r.id&&!Ye(r.id)&&!e[r.id]&&r.release_date&&r.release_date<=n&&t.push({id:r.id,name:r.name.chs,element:r.vision,rarity:r.rarity%10,special_rarity:r.rarity>10?r.rarity:0,level:NaN,fetter:NaN,actived_constellation_num:NaN,release_date:r.release_date,image:`https://upload-bbs.mihoyo.com/game_record/genshin/character_icon/UI_AvatarIcon_${r.codename}.png`})}return t})),o=y((()=>{const e=Object.create(null),t=s.details;if(t)for(const n of t)e[n.id]=n;return e})),i=y((e=>{const t=s.roles;if(!t.length)return[];let n;if(e){let r=!1;if(e.roles!=t||e.grouping!=kt.grouping?(n=function(e,t,n){const r=[];switch(t){case"fetter":case"rarity":case"actived_constellation_num":{const n=Object.create(null);for(const i of e){const e=+i[t];n[e]||(n[e]={name:""+e,value:e,roles:[]},r.push(n[e])),n[e].roles.push(i)}n.NaN&&(n.NaN.name=kt.show_not_owned?"规格外或未拥有":"规格外",n.NaN.value=NaN,r.splice(r.indexOf(n.NaN),1),r.push(n.NaN));break}case"level":{const t={0:{name:"1-10",value:0,roles:[]},1:{name:"11-20",value:1,roles:[]},2:{name:"21-30",value:2,roles:[]},3:{name:"31-40",value:3,roles:[]},4:{name:"41-50",value:4,roles:[]},5:{name:"51-60",value:5,roles:[]},6:{name:"61-70",value:6,roles:[]},7:{name:"71-80",value:7,roles:[]},8:{name:"81-90",value:8,roles:[]},NaN:{name:"未拥有",value:NaN,roles:[]}};r.push(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t.NaN);for(const n of e)t[Math.floor((+n.level-1)/10)].roles.push(n);for(let e=0;e<r.length;)0===r[e].roles.length?r.splice(e,1):++e;break}case"element":{const t={Pyro:{name:"火",roles:[],value:"pyro"},Hydro:{name:"水",roles:[],value:"hydro"},Anemo:{name:"风",roles:[],value:"anemo"},Electro:{name:"雷",roles:[],value:"electro"},Dendro:{name:"草",roles:[],value:"dendro"},Cryo:{name:"冰",roles:[],value:"cryo"},Geo:{name:"岩",roles:[],value:"geo"},None:{name:"无",roles:[],value:"none"}};r.push(t.Pyro,t.Hydro,t.Anemo,t.Electro,t.Dendro,t.Cryo,t.Geo,t.None);for(const n of e)t[n.element].roles.push(n);0===t.None.roles.length&&r.pop();break}case"release_date":{const t=Object.create(null);for(const n of e){const e=n.release_date;if(!t[e]){const n=e?`${e.substr(0,4)}-${e.substr(4,2)}-${e.substr(6,2)}`:"未知";t[e]={name:n,value:e,roles:[]},r.push(t[e])}t[e].roles.push(n)}break}default:r.push({name:"",value:"",roles:e.slice()})}t&&"element"!==t&&Nt(r,n);return r}(t,kt.grouping,kt.grouping_sort),r=!0):e.grouping_sort!=kt.grouping_sort&&(n=Nt(e.slice(),kt.grouping_sort)),r||e.serialized_sorting!=kt.serialized_sorting){n=n||e.slice();for(let e=0;e<n.length;++e){const{name:t,value:r,roles:i}=n[e];n[e]={name:t,value:r,roles:jt(i,kt.sorting)}}}}return n?(n.roles=t,n.grouping=kt.grouping,n.grouping_sort=kt.grouping_sort,n.serialized_sorting=kt.serialized_sorting,n):e}),[]),a=y((()=>{var e;return null==(e=s.abysses)?void 0:e[s.abyssIndex]})),[s,l]}));function Nt(e,t){return e.length>1&&null!=e[0].value&&(t===ze.ASC?e.sort(((e,t)=>"string"==typeof e.value?e.value.localeCompare(t.value):e.value-t.value)):t===ze.DESC&&e.sort(((e,t)=>"string"==typeof t.value?t.value.localeCompare(e.value):t.value-e.value))),e}function jt(e,t){return e.sort(((e,n)=>{for(const r of t){const t=e[r.column],i=n[r.column];if(t!==i){if(r.sort===ze.ASC)return"string"==typeof t?t.localeCompare(i):t-i;if(r.sort===ze.DESC)return"string"==typeof i?i.localeCompare(t):i-t}}return 0})),e}const Ot=W('<div class="group-sort-config"><label for="group-type">分组</label><select class="form-select" id="group-type"><option value="">N/A</option></select><button type="button" class="btn btn-sort" title="排序"></button><label>排序</label><div class="BtnGroup sort-config-list"></div><label><input type="checkbox">显示尚未拥有的角色</label></div>'),Tt=W("<option></option>"),Rt=W('<button type="button" class="BtnGroup-item btn"></button>');var Bt=e=>{const t=e=>{Ct({grouping:e.target.value})},n=()=>{Ct({grouping_sort:Pt(kt.grouping_sort)})},r=e=>{const t=e.target.dataset.column;for(let n=0,r=kt.sorting.length;n<r;++n){const e=kt.sorting[n];if(e.column===t){Ct("sorting",n,"sort",Pt(e.sort));break}}};let i,o;const a=e=>{e.target.dataset.column&&(i=e.target,o=e.clientX,e.dataTransfer.effectAllowed="move")},s=e=>{e.preventDefault(),i&&e.target.dataset.column&&(e.dataTransfer.effectAllowed="move")},l=e=>{const t=e.target;if(e.stopPropagation(),i&&i!==t){const n=Mt(i);let r=Mt(t);e.clientX>o?e.offsetX<.25*t.clientWidth&&i.nextElementSibling!==t&&r--:e.offsetX>.75*t.clientWidth&&i!==t.nextElementSibling&&r++;const a=kt.sorting.slice();a.splice(r,0,a.splice(n,1)[0]),Ct({sorting:a})}i=null};return(()=>{const e=Ot.cloneNode(!0),i=e.firstChild.nextSibling;i.firstChild;const o=i.nextSibling,c=o.nextSibling.nextSibling,d=c.nextSibling.firstChild;return i.addEventListener("change",t),J(i,I(H,{each:bt,children:e=>(()=>{const t=Tt.cloneNode(!0);return t.value=e,J(t,(()=>yt[e])),t})()}),null),o.$$click=n,c.addEventListener("drop",l),c.addEventListener("dragover",s),c.addEventListener("dragstart",a),c.$$click=r,J(c,I(H,{get each(){return kt.sorting},children:e=>(()=>{const t=Rt.cloneNode(!0);return V(t,"draggable",!0),J(t,(()=>yt[e.column])),g((n=>{const r=e.column,i=e.sort,o=e.column===kt.grouping;return r!==n._v$5&&V(t,"data-column",n._v$5=r),i!==n._v$6&&V(t,"data-sort",n._v$6=i),o!==n._v$7&&(t.disabled=n._v$7=o),n}),{_v$5:void 0,_v$6:void 0,_v$7:void 0}),t})()})),d.addEventListener("change",(()=>Ct({show_not_owned:!kt.show_not_owned}))),g((e=>{const t=kt.grouping,n=kt.grouping_sort,r=!kt.grouping||(s=kt.grouping,!_t.includes(s)),a=kt.show_not_owned;var s;return t!==e._v$&&(i.value=e._v$=t),n!==e._v$2&&V(o,"data-sort",e._v$2=n),r!==e._v$3&&(o.disabled=e._v$3=r),a!==e._v$4&&(d.checked=e._v$4=a),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),e})()};function Pt(e){switch(e){case ze.ASC:return ze.DESC;case ze.DESC:return ze.ASC}return ze.NONE}function Mt(e){var t;const n=null==(t=e.parentElement)?void 0:t.children;if(n)for(let r=0;r<n.length;++r)if(n[r]===e)return r;return-1}F(["click"]);const Dt=W("<small>统计周期: <!> - </small>"),Kt=W('<div class="spiral-abyss-header"><h3>深境螺旋战绩</h3><div class="BtnGroup sprial-abyss-selector"><button type="button" class="BtnGroup-item btn">本期</button><button type="button" class="BtnGroup-item btn">上期</button></div></div>'),qt=W('<div class="group abyss-summary"><div class="group-banner"><div class="Subhead container"><div class="Subhead-heading">挑战回顾</div><ul><li>最深抵达: </li><li>战斗次数: </li><li class="with-abyss-star"><i class="abyss-star"></i></li><li class="abyss-time">统计周期: <!> - </li></ul></div></div><div class="abyss-section container"><h4>出战次数</h4><ul class="role-list"></ul></div><div class="abyss-section container"><h4>击破数</h4></div><div class="abyss-section container"><h4>最强一击</h4></div><div class="abyss-section container"><h4>承受伤害</h4></div><div class="abyss-section container"><h4>元素爆发次数</h4></div><div class="abyss-section container"><h4>元素战技释放数</h4></div></div>'),It=W('<div class="no-data"><img src="/assets/images/placeholder.png"><p>暂无挑战数据</p></div>'),Ht=W('<div class="spiral-abyss"></div>'),zt=W('<li><div class="avatar"></div><div class="meta"></div></li>'),Ut=W('<div class="group abyss-floor"><div class="group-banner"><div class="Subhead container"><div class="Subhead-heading">深境螺旋 第<!>层</div><div class="with-abyss-star"><i class="abyss-star"></i> / </div></div></div><ul class="role-list container"><li class="separator separator-1"></li><li class="separator separator-2"></li><li class="separator separator-3"></li></ul></div>'),Xt=W('<li class="level-header"><div class="level-name">-</div><div class="abyss-star"></div><div class="level-star"> / </div></li>'),Yt=W('<li class="abyss-battle"></li>'),Wt=W('<li><div class="avatar"></div><div class="meta">Lv.</div></li>'),Ft=W('<ul class="role-rank-list"></ul>'),Vt=W('<li><div class="avatar"></div><div class="value"></div></li>');function Gt(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${("0"+(t.getMonth()+1)).slice(-2)}.${("0"+t.getDate()).slice(-2)}`}const Jt=["零","一","三","四","五","六","七","八","九","十","十一","十二"];function Qt(){const e=e=>{if(!("ArrowLeft"!==e.key&&"ArrowRight"!==e.key||e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(Lt({abyssIndex:Et.abyssIndex?0:1}),e.target)){const t=e.target.previousElementSibling||e.target.nextElementSibling;t&&t.focus()}};return(()=>{const t=Kt.cloneNode(!0),n=t.firstChild.nextSibling,r=n.firstChild,i=r.nextSibling;return n.$$keydown=e,r.$$click=()=>Lt({abyssIndex:0}),i.$$click=()=>Lt({abyssIndex:1}),J(t,I(z,{get when(){return Et.activeAbyss},get children(){const e=Dt.cloneNode(!0),t=e.firstChild.nextSibling;return t.nextSibling,J(e,(()=>Gt(+Et.activeAbyss.start_time)),t),J(e,(()=>Gt(+Et.activeAbyss.end_time)),null),e}}),null),g((e=>{const t=0==Et.abyssIndex,n=1==Et.abyssIndex;return t!==e._v$&&r.classList.toggle("selected",e._v$=t),n!==e._v$2&&i.classList.toggle("selected",e._v$2=n),e}),{_v$:void 0,_v$2:void 0}),t})()}var Zt=()=>{const e=y((()=>Et.activeAbyss&&Et.activeAbyss.total_battle_times>0));return(()=>{const t=Ht.cloneNode(!0);return J(t,I(z,{get when(){return e()},get children(){return[(()=>{const e=qt.cloneNode(!0),t=e.firstChild,n=t.firstChild.firstChild.nextSibling.firstChild;n.firstChild;const r=n.nextSibling;r.firstChild;const i=r.nextSibling;i.firstChild;const o=i.nextSibling,a=o.firstChild.nextSibling;a.nextSibling;const s=t.nextSibling,l=s.firstChild.nextSibling,c=s.nextSibling;c.firstChild;const d=c.nextSibling;d.firstChild;const u=d.nextSibling;u.firstChild;const f=u.nextSibling;f.firstChild;const p=f.nextSibling;return p.firstChild,J(n,(()=>Et.activeAbyss.max_floor),null),J(r,(()=>Et.activeAbyss.total_battle_times),null),J(i,(()=>Et.activeAbyss.total_star),null),J(o,(()=>Gt(+Et.activeAbyss.start_time)),a),J(o,(()=>Gt(+Et.activeAbyss.end_time)),null),J(l,I(H,{get each(){return Et.activeAbyss.reveal_rank},children:e=>(()=>{const t=zt.cloneNode(!0),n=t.firstChild;return J(n.nextSibling,(()=>e.value)),g((r=>{const i=`role-item rarity-${e.rarity}`,o=e.avatar_id,a=e.rarity,s=`url(${e.avatar_icon})`;return i!==r._v$5&&(t.className=r._v$5=i),o!==r._v$6&&V(t,"data-id",r._v$6=o),a!==r._v$7&&V(t,"data-rarity",r._v$7=a),s!==r._v$8&&n.style.setProperty("background-image",r._v$8=s),r}),{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0}),t})()})),J(c,(()=>en(Et.activeAbyss.defeat_rank)),null),J(d,(()=>en(Et.activeAbyss.damage_rank)),null),J(u,(()=>en(Et.activeAbyss.take_damage_rank)),null),J(f,(()=>en(Et.activeAbyss.energy_skill_rank)),null),J(p,(()=>en(Et.activeAbyss.normal_skill_rank)),null),e})(),I(H,{get each(){return Et.activeAbyss.floors},children:e=>(()=>{const t=Ut.cloneNode(!0),n=t.firstChild,r=n.firstChild.firstChild,i=r.firstChild.nextSibling;i.nextSibling;const o=r.nextSibling,a=o.firstChild.nextSibling,s=n.nextSibling;return s.firstChild.nextSibling.nextSibling,J(r,(()=>Jt[e.index-1]),i),J(o,(()=>e.levels.reduce(((e,t)=>e+t.star),0)),a),J(o,(()=>e.levels.reduce(((e,t)=>e+t.max_star),0)),null),J(s,I(H,{get each(){return e.levels},children:t=>[(()=>{const n=Xt.cloneNode(!0),r=n.firstChild,i=r.firstChild,o=r.nextSibling.nextSibling,a=o.firstChild;return J(r,(()=>e.index),i),J(r,(()=>t.index),null),J(o,(()=>t.star),a),J(o,(()=>t.max_star),null),g((()=>V(n,"data-level",t.index))),n})(),I(H,{get each(){return t.battles},children:e=>[(()=>{const t=Yt.cloneNode(!0);return J(t,(()=>function(e){const t=new Date(1e3*e);return`${t.getFullYear()}.${("0"+(t.getMonth()+1)).slice(-2)}.${("0"+t.getDate()).slice(-2)} ${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}:${("0"+t.getSeconds()).slice(-2)}`}(+e.timestamp))),g((()=>V(t,"data-battle",e.index))),t})(),I(H,{get each(){return e.avatars},children:(t,n)=>(()=>{const r=Wt.cloneNode(!0),i=r.firstChild,o=i.nextSibling;return o.firstChild,J(o,(()=>t.level),null),g((o=>{const a=`role-item rarity-${t.rarity}`,s=e.index,l=n()+1,c=t.id,d=t.rarity,u=`url(${t.icon})`;return a!==o._v$9&&(r.className=o._v$9=a),s!==o._v$10&&V(r,"data-battle",o._v$10=s),l!==o._v$11&&V(r,"data-index",o._v$11=l),c!==o._v$12&&V(r,"data-id",o._v$12=c),d!==o._v$13&&V(r,"data-rarity",o._v$13=d),u!==o._v$14&&i.style.setProperty("background-image",o._v$14=u),o}),{_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0}),r})()})]})]}),null),t})()})]}}),null),J(t,I(z,{get when(){return!e()},get children(){const e=It.cloneNode(!0);return V(e.firstChild,"draggable",!1),e}}),null),g((n=>{const r=!e(),i=Qe.stick_group_banner;return r!==n._v$3&&t.classList.toggle("full",n._v$3=r),i!==n._v$4&&t.classList.toggle("group-sticky-enabled",n._v$4=i),n}),{_v$3:void 0,_v$4:void 0}),t})()};function en(e){return(()=>{const t=Ft.cloneNode(!0);return J(t,I(H,{each:e,children:e=>(()=>{const t=Vt.cloneNode(!0),n=t.firstChild;return J(n.nextSibling,(()=>e.value)),g((r=>{const i=`role-rank-item rarity-${e.rarity}`,o=e.avatar_id,a=e.rarity,s=`url(${e.avatar_icon})`;return i!==r._v$15&&(t.className=r._v$15=i),o!==r._v$16&&V(t,"data-id",r._v$16=o),a!==r._v$17&&V(t,"data-rarity",r._v$17=a),s!==r._v$18&&n.style.setProperty("background-image",r._v$18=s),r}),{_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0}),t})()})),t})()}function tn(e,t=(null==document?void 0:document.cookie)){if(!t)return;const n=t.split("; "),r=decodeURIComponent(e);for(let i=0;i<n.length;++i){const e=n[i],t=e.indexOf("=");if(decodeURIComponent(e.substr(0,t))===r){const n=e.substr(t+1);return decodeURIComponent('"'===n[0]?n.slice(1,-1):n)}}}function nn(e,t,n){if("undefined"!=typeof document){let r="";if(n){(n={...n}).expires&&("number"==typeof n.expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),"string"!=typeof n.expires&&(n.expires=n.expires.toUTCString()));for(const e in n){const t=n[e];(t||0===t)&&(r+=`; ${e}`,!0!==t&&(r+=`=${t}`.replace(/;/,"%3B")))}}e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),document.cookie=`${e}=${encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}${r}`}}function rn(e){return new Promise((t=>{setTimeout(t,e)}))}F(["keydown","click"]);const on="undefined"!=typeof chrome&&chrome.tabs||"undefined"!=typeof browser&&browser.tabs,an=on&&void 0!==on.captureVisibleTab;function sn(e){return new Promise((t=>{const n=new Image;n.onload=()=>t(n),n.src=e}))}async function ln(){const e=document.documentElement.scrollTop;document.documentElement.scrollTop=0,await new Promise((e=>{requestAnimationFrame((()=>{requestAnimationFrame(e)}))}));const t=document.createElement("canvas"),n=t.height=document.documentElement.scrollHeight*devicePixelRatio;t.width=document.documentElement.clientWidth*devicePixelRatio;let r=0;const i=t.getContext("2d");for(;r<n;){const e=await sn(await new Promise((e=>{on.captureVisibleTab(e)}))),t=r+e.naturalHeight;if(t>n){const o=t-n,a=e.naturalHeight-o;i.drawImage(e,0,o,e.naturalWidth,a,0,r,e.naturalWidth,a);break}i.drawImage(e,0,r,e.naturalWidth,e.naturalHeight),r=t,document.documentElement.scrollTop+=document.documentElement.clientHeight,await rn(500)}return document.documentElement.scrollTop=e,t}const cn={screenshot:{clipboard:!0,savefile:!1}};function dn(e,t){let n=cn;const r=e.split(".");for(;r.length>1&&n;)n=n[r.shift()];return n?(n[r[0]]=t,Je(e,t+"")):Promise.resolve()}!async function(){const e=await Ge(["screenshot.clipboard","screenshot.savefile"]);for(const t in e){if(!be(e,t)||null==e[t])continue;let n=cn;const r=t.split(".");for(;r.length>1&&n;)n=n[r.shift()];if(n){const i=r[0],o=e[t];switch(typeof n[i]){case"boolean":["true","false","1","0"].includes(o)&&(n[i]="true"===o||"1"===o);break;case"number":isNaN(+o)||(n[i]=+o);break;case"string":n[i]=o}}}}();function un(e){let t=Array.from(e.querySelectorAll("[autofocus]")).filter(pn)[0];t||(t=e,e.setAttribute("tabindex","-1")),t.focus()}function fn(e){const t=e.currentTarget;t instanceof Element&&("Escape"===e.key||"Esc"===e.key?(mn(t,!1),e.stopPropagation()):"Tab"===e.key&&function(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.querySelector("details-dialog");if(!t)return;e.preventDefault();const n=Array.from(t.querySelectorAll("*")).filter(pn);if(0===n.length)return;const r=e.shiftKey?-1:1,i=t.getRootNode(),o=t.contains(i.activeElement)?i.activeElement:null;let a=-1===r?-1:0;if(o instanceof HTMLElement){const e=n.indexOf(o);-1!==e&&(a=e+r)}a<0?a=n.length-1:a%=n.length;n[a].focus()}(e))}function pn(e){return e.tabIndex>=0&&!e.disabled&&function(e){return!e.hidden&&(!e.type||"hidden"!==e.type)&&(e.offsetWidth>0||e.offsetHeight>0)}(e)}function hn(e){const t=e.querySelector("details-dialog");return!(t instanceof Sn)||t.dispatchEvent(new CustomEvent("details-dialog-close",{bubbles:!0,cancelable:!0}))}function vn(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.closest("details");t&&t.hasAttribute("open")&&(hn(t)||(e.preventDefault(),e.stopPropagation()))}function gn(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-dialog");if(n instanceof Sn)if(t.hasAttribute("open")){const e="getRootNode"in n?n.getRootNode():document;e.activeElement instanceof HTMLElement&&wn.set(n,{details:t,activeElement:e.activeElement}),un(n),t.addEventListener("keydown",fn)}else{for(const t of n.querySelectorAll("form"))t.reset();const e=function(e,t){const n=wn.get(t);return n&&n.activeElement instanceof HTMLElement?n.activeElement:e.querySelector("summary")}(t,n);e&&e.focus(),t.removeEventListener("keydown",fn)}}function mn(e,t){t!==e.hasAttribute("open")&&(t?e.setAttribute("open",""):hn(e)&&e.removeAttribute("open"))}function yn(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-dialog");if(!(n instanceof Sn))return;const r=n.querySelector("include-fragment:not([src])");if(!r)return;const i=n.src;null!==i&&(r.addEventListener("loadend",(()=>{t.hasAttribute("open")&&un(n)})),r.setAttribute("src",i),_n(t))}function bn(e,t,n){_n(e),t&&e.addEventListener("toggle",yn,{once:!0}),t&&n&&e.addEventListener("mouseover",yn,{once:!0})}function _n(e){e.removeEventListener("toggle",yn),e.removeEventListener("mouseover",yn)}const wn=new WeakMap;class Sn extends HTMLElement{static get CLOSE_ATTR(){return"data-close-dialog"}static get CLOSE_SELECTOR(){return"[data-close-dialog]"}constructor(){super(),wn.set(this,{details:null,activeElement:null}),this.addEventListener("click",(function({target:e}){if(!(e instanceof Element))return;const t=e.closest("details");t&&e.closest("[data-close-dialog]")&&mn(t,!1)}))}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e||"")}get preload(){return this.hasAttribute("preload")}set preload(e){e?this.setAttribute("preload",""):this.removeAttribute("preload")}connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");const e=wn.get(this);if(!e)return;const t=this.parentElement;if(!t)return;const n=t.querySelector("summary");n&&(n.hasAttribute("role")||n.setAttribute("role","button"),n.addEventListener("click",vn,{capture:!0})),t.addEventListener("toggle",gn),e.details=t,bn(t,this.src,this.preload)}disconnectedCallback(){const e=wn.get(this);if(!e)return;const{details:t}=e;if(!t)return;t.removeEventListener("toggle",gn),_n(t);const n=t.querySelector("summary");n&&n.removeEventListener("click",vn,{capture:!0}),e.details=null}toggle(e){const t=wn.get(this);if(!t)return;const{details:n}=t;n&&mn(n,e)}static get observedAttributes(){return["src","preload"]}attributeChangedCallback(){const e=wn.get(this);if(!e)return;const{details:t}=e;t&&bn(t,this.src,this.preload)}}window.customElements.get("details-dialog")||(window.DetailsDialogElement=Sn,window.customElements.define("details-dialog",Sn));const $n=W('<div class="form-group screenshot-options"><div class="form-group-header"><label>截图选项</label></div><div class="form-group-body"><p class="note">在此页面上单击本扩展在浏览器上的按钮，可以截取整个页面。在此处选择截图之后的动作。</p><label><input type="checkbox">复制到剪贴板</label><label><input type="checkbox">保存为文件</label></div></div>'),xn=W('<div class="form-group"><div class="form-group-header"><label for="input-cookie">Cookie</label></div><div class="form-group-body"><textarea class="form-control" id="input-cookie" rows="4" autofocus></textarea></div></div>'),kn=W('<details class="settings details-overlay details-overlay-dark"><summary class="btn" role="button">设置</summary><details-dialog class="Box Box--overlay d-flex flex-column anim-fade-in fast"><div class="Box-header"><button class="Box-btn-octicon btn-octicon float-right" type="button" aria-label="关闭" data-close-dialog><svg class="octicon octicon-x" viewBox="0 0 12 16" version="1.1" width="12" height="16" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg></button><h3 class="Box-title">设置</h3></div><div class="Box-body"><div class="form-group theme-options"><div class="form-group-header"><label>主题选项</label></div><div class="form-group-body"><label for="input-color-mode">颜色模式</label><select class="form-select" id="input-color-mode"><option value="auto">自动</option><option value="light">亮色</option><option value="dark">暗色</option></select><label for="input-dark-theme">暗色主题</label><select class="form-select" id="input-dark-theme"><option value="dark_dimmed">Dimmed</option><option value="dark">Dark</option></select></div></div></div><div class="Box-footer"><button type="button" class="btn btn-primary">保存</button></div></details-dialog></details>');var Cn=e=>{let t,n,r,i,o,a;const l=e=>{a&&(a.value=document.cookie),i&&(i.checked=cn.screenshot.clipboard),o&&(o.checked=cn.screenshot.savefile)},c=e=>{e.target.select()},d=e=>{let s=!0;var l,c;An(n.value,r.value),l=n.value,c=r.value,Je("theme",`${l},${c}`),i&&(dn("screenshot.clipboard",i.checked),dn("screenshot.savefile",o.checked)),a&&s&&(s=(()=>{const e=tn("ltuid",a.value),t=tn("ltoken",a.value);return e&&t?/^[1-9]\d{5,8}$/.test(e)?(nn("ltuid",e,{expires:365}),nn("ltoken",t,{expires:365}),!0):(ae("ltuid 格式不正确",{type:"error"}),!1):(ae("必须包含 ltuid 和 ltoken",{type:"error"}),!1)})()),s&&(t.open=!1)};return S((()=>{(async function(){const e={mode:"auto",darkTheme:"dark_dimmed"};try{const t=await Ge("theme");if(t){const n=t.split(",");2===n.length&&["auto","light","dark"].includes(n[0])&&["dark","dark_dimmed"].includes(n[1])&&(e.mode=n[0],e.darkTheme=n[1])}}catch(t){}return e})().then((({mode:e,darkTheme:t})=>{An(e,t),n.value=e,r.value=t}))})),(()=>{const e=kn.cloneNode(!0),u=e.firstChild.nextSibling,f=u.firstChild.nextSibling,p=f.firstChild.firstChild.nextSibling.firstChild.nextSibling,h=p.nextSibling.nextSibling,v=f.nextSibling.firstChild;e.addEventListener("toggle",l);"function"==typeof t?t(e):t=e,u._$owner=s;"function"==typeof n?n(p):n=p;return"function"==typeof r?r(h):r=h,J(f,I(z,{when:an,get children(){const e=$n.cloneNode(!0),t=e.firstChild.nextSibling.firstChild.nextSibling,n=t.firstChild,r=t.nextSibling.firstChild;"function"==typeof i?i(n):i=n;return"function"==typeof o?o(r):o=r,e}}),null),J(f,I(z,{when:!(["pages","chrome-ext"].includes("pages")||"http:"!==location.protocol&&"https:"!==location.protocol||location.hostname.endsWith(".mihoyo.com")),get children(){const e=xn.cloneNode(!0),t=e.firstChild.nextSibling.firstChild;t.addEventListener("focus",c);return"function"==typeof a?a(t):a=t,e}}),null),v.$$click=d,e})()};function An(e,t){document.documentElement.dataset.colorMode=e,t&&(document.documentElement.dataset.darkTheme=t)}F(["click"]);const En=W('<header><div class="container"><nav class="UnderlineNav UnderlineNav--right"><div class="UnderlineNav-actions"><form><label for="input-uid">UID</label><div class="autocomplete-wrapper"><input type="text" class="form-control input-contrast" id="input-uid"><div class="autocomplete-results"></div></div><button type="submit" class="btn btn-primary btn-submit">查询</button></form><label><input type="checkbox">固定页眉</label><label><input type="checkbox">固定组别</label></div><div class="UnderlineNav-body"><a class="UnderlineNav-item">总览</a><a class="UnderlineNav-item">角色</a><a class="UnderlineNav-item">深渊</a></div></nav></div></header>'),Ln=W('<a href="#" class="autocomplete-item"></a>');var Nn=e=>{let t,n;const r=e=>{e.preventDefault();try{!function(e){if(!e)throw new Error("UID 不能为空");if(!function(e){return/^[156789]\d{8}$/.test(e+"")}(e))throw new Error("UID 不合法");if(!function(e){return/^[15]\d{8}$/.test(e+"")}(e))throw new Error("不支持查询国际服数据");const t=Qe.uids.slice(),n=t.indexOf(e);~n&&t.splice(n,1),t.unshift(e),Ze({uid:e,uids:t}),nt(Date.now())}(n.value)}catch(t){ae(t.message,{type:"error"})}},i=e=>{e.target.select()},o=()=>{const e=Qe.page,n=Qe.stick_header;requestAnimationFrame((()=>{it("--header-height",e?`${t.clientHeight}px`:0),it("--header-height-when-stick",e&&n?`${t.clientHeight}px`:0)}))};return m(o),S((()=>{window.addEventListener("resize",o)})),$((()=>{window.removeEventListener("resize",o)})),(()=>{const o=En.cloneNode(!0),a=o.firstChild,s=a.firstChild,l=s.firstChild,c=l.firstChild,d=c.firstChild.nextSibling,u=d.firstChild,f=u.nextSibling,p=d.nextSibling,h=c.nextSibling,v=h.firstChild,m=h.nextSibling.firstChild,y=l.nextSibling.firstChild,b=y.nextSibling,_=b.nextSibling;"function"==typeof t?t(o):t=o,c.addEventListener("submit",r),u.addEventListener("focus",i);return"function"==typeof n?n(u):n=u,J(f,I(H,{get each(){return Qe.uids},children:e=>(()=>{const t=Ln.cloneNode(!0);return t.$$click=t=>((e,t)=>{e.preventDefault(),n.value=t,e.target.blur()})(t,e),J(t,e),t})()})),J(l,I(Cn,{}),h),v.addEventListener("change",(()=>Ze({stick_header:!Qe.stick_header}))),m.addEventListener("change",(()=>Ze({stick_group_banner:!Qe.stick_group_banner}))),G(y,"click",On(Ie.SUMMARY),!0),V(y,"draggable",!1),G(b,"click",On(Ie.ROLES),!0),V(b,"draggable",!1),G(_,"click",On(Ie.ABYSS),!0),V(_,"draggable",!1),J(a,I(U,{get children(){return[I(X,{get when(){return Qe.page===Ie.ROLES},get children(){return I(Bt,{})}}),I(X,{get when(){return Qe.page===Ie.ABYSS},get children(){return I(Qt,{})}})]}}),null),J(a,(()=>e.children),null),g((e=>{const t=Qe.stick_header,n=Qe.stick_header&&Qe.stick_group_banner&&(Qe.page==Ie.ROLES&&!!kt.grouping||Qe.page==Ie.ABYSS||Qe.page==Ie.SUMMARY),r=Qe.page==Ie.SUMMARY&&Qe.stick_header&&!Qe.stick_group_banner,i=Qe.uid,a=Et.loading,l=Et.loading,c=Qe.stick_header,d=Qe.stick_group_banner,f=`#${Ie.SUMMARY}`,h=jn(Ie.SUMMARY),g=`#${Ie.ROLES}`,w=jn(Ie.ROLES),S=`#${Ie.ABYSS}`,$=jn(Ie.ABYSS);return t!==e._v$&&o.classList.toggle("sticky",e._v$=t),n!==e._v$2&&o.classList.toggle("box-shadow-none",e._v$2=n),r!==e._v$3&&s.classList.toggle("box-shadow-none",e._v$3=r),i!==e._v$4&&(u.value=e._v$4=i),a!==e._v$5&&(u.disabled=e._v$5=a),l!==e._v$6&&(p.disabled=e._v$6=l),c!==e._v$7&&(v.checked=e._v$7=c),d!==e._v$8&&(m.checked=e._v$8=d),f!==e._v$9&&V(y,"href",e._v$9=f),h!==e._v$10&&V(y,"aria-current",e._v$10=h),g!==e._v$11&&V(b,"href",e._v$11=g),w!==e._v$12&&V(b,"aria-current",e._v$12=w),S!==e._v$13&&V(_,"href",e._v$13=S),$!==e._v$14&&V(_,"aria-current",e._v$14=$),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0}),o})()};function jn(e){return Qe.page===e?"page":void 0}function On(e){return t=>{t.preventDefault(),Ze({page:e})}}F(["click"]);const Tn=W('<div class="group"><div class="group-banner"><div class="Subhead container"><div class="Subhead-heading">数据总览</div></div></div><ul class="container stat-data-list"><li><p class="stat-value"></p><p class="stat-title">活跃天数</p></li><li><p class="stat-value"></p><p class="stat-title">成就达成数</p></li><li><p class="stat-value"></p><p class="stat-title">获得角色数</p></li><li><p class="stat-value"></p><p class="stat-title">解锁传送点</p></li><li><p class="stat-value"></p><p class="stat-title">解锁秘境</p></li><li><p class="stat-value"></p><p class="stat-title">深境螺旋</p></li><li style="grid-row: 2"><p class="stat-value"></p><p class="stat-title">风神瞳</p></li><li style="grid-row: 2"><p class="stat-value"></p><p class="stat-title">岩神瞳</p></li><li style="grid-row: 2"><p class="stat-value"></p><p class="stat-title">雷神瞳</p></li><li style="grid-row: 3"><p class="stat-value"></p><p class="stat-title">华丽宝箱数</p></li><li style="grid-row: 3"><p class="stat-value"></p><p class="stat-title">珍贵宝箱数</p></li><li style="grid-row: 3"><p class="stat-value"></p><p class="stat-title">精致宝箱数</p></li><li style="grid-row: 3"><p class="stat-value"></p><p class="stat-title">普通宝箱数</p></li></ul></div>'),Rn=W('<div class="group"><div class="group-banner"><div class="Subhead container"><div class="Subhead-heading">世界探索</div></div></div><ul class="container exploration-list"></ul></div>'),Bn=W('<div class="group"><div class="group-banner"><div class="Subhead container"><div class="Subhead-heading">尘歌壶</div></div></div><ul class="container home-list"></ul></div>'),Pn=W('<div class="no-data"><img src="/assets/images/placeholder.png"><p>暂无数据</p></div>'),Mn=W('<div class="genshin-summary"></div>'),Dn=W("<p>声望：</p>"),Kn=W('<li><img class="icon"><div class="content"><p class="name"></p><div class="progress"><div class="value">%</div><div class="bar"></div></div></div></li>'),qn=W("<p>：</p>"),In=W('<li><div class="mask"></div><div class="meta"><div class="comfort"><img class="icon"><p class="name"></p></div><div class="name"></div></div><div class="content-wrapper"><ul class="content"><li><p class="value"></p><p class="title">信任等阶</p></li><li><p class="value"></p><p class="title">最高洞天仙力</p></li><li><p class="value"></p><p class="title">获得摆设数</p></li><li><p class="value"></p><p class="title">历史访客数</p></li></ul></div></li>');var Hn=()=>(()=>{const e=Mn.cloneNode(!0);return J(e,I(z,{get when(){return Et.stats},get children(){return[(()=>{const e=Tn.cloneNode(!0),t=e.firstChild.nextSibling.firstChild,n=t.firstChild,r=t.nextSibling,i=r.firstChild,o=r.nextSibling,a=o.firstChild,s=o.nextSibling,l=s.firstChild,c=s.nextSibling,d=c.firstChild,u=c.nextSibling,f=u.firstChild,p=u.nextSibling,h=p.firstChild,v=p.nextSibling,g=v.firstChild,m=v.nextSibling,y=m.firstChild,b=m.nextSibling,_=b.firstChild,w=b.nextSibling,S=w.firstChild,$=w.nextSibling,x=$.firstChild,k=$.nextSibling.firstChild;return J(n,(()=>Et.stats.stats.active_day_number)),J(i,(()=>Et.stats.stats.achievement_number)),J(a,(()=>Et.stats.stats.avatar_number)),J(l,(()=>Et.stats.stats.way_point_number)),J(d,(()=>Et.stats.stats.domain_number)),J(f,(()=>Et.stats.stats.spiral_abyss)),J(h,(()=>Et.stats.stats.anemoculus_number)),J(g,(()=>Et.stats.stats.geoculus_number)),J(y,(()=>Et.stats.stats.electroculus_number)),J(_,(()=>Et.stats.stats.luxurious_chest_number)),J(S,(()=>Et.stats.stats.precious_chest_number)),J(x,(()=>Et.stats.stats.exquisite_chest_number)),J(k,(()=>Et.stats.stats.common_chest_number)),e})(),(()=>{const e=Rn.cloneNode(!0);return J(e.firstChild.nextSibling,I(H,{get each(){return Et.stats.world_explorations},children:e=>(()=>{const t=Kn.cloneNode(!0),n=t.firstChild,r=n.nextSibling,i=r.firstChild,o=i.nextSibling.firstChild,a=o.firstChild,s=o.nextSibling;return J(i,(()=>e.name)),J(o,(()=>e.exploration_percentage/10),a),J(r,I(z,{get when(){return"Reputation"===e.type},get children(){const t=Dn.cloneNode(!0);return t.firstChild,J(t,(()=>e.level),null),t}}),null),J(r,I(H,{get each(){return e.offerings},children:e=>(()=>{const t=qn.cloneNode(!0);return J(t,(()=>e.name),t.firstChild),J(t,(()=>e.level),null),t})()}),null),g((r=>{const i=e.id,o=e.type,a=e.exploration_percentage,l=e.icon,c=e.exploration_percentage/10+"%";return i!==r._v$&&V(t,"data-id",r._v$=i),o!==r._v$2&&V(t,"data-type",r._v$2=o),a!==r._v$3&&V(t,"data-percentage",r._v$3=a),l!==r._v$4&&V(n,"src",r._v$4=l),c!==r._v$5&&s.style.setProperty("width",r._v$5=c),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0}),t})()})),e})(),(()=>{const e=Bn.cloneNode(!0);return J(e.firstChild.nextSibling,I(H,{get each(){return Et.stats.homes},children:e=>(()=>{const t=In.cloneNode(!0),n=t.firstChild.nextSibling,r=n.firstChild,i=r.firstChild,o=i.nextSibling,a=r.nextSibling,s=n.nextSibling.firstChild.firstChild,l=s.firstChild,c=s.nextSibling,d=c.firstChild,u=c.nextSibling,f=u.firstChild,p=u.nextSibling.firstChild;return J(o,(()=>e.comfort_level_name)),J(a,(()=>e.name)),J(l,(()=>e.level)),J(d,(()=>e.comfort_num)),J(f,(()=>e.item_num)),J(p,(()=>e.visit_num)),g((n=>{const r=`url(${e.icon})`,o=e.comfort_level_icon;return r!==n._v$6&&t.style.setProperty("background-image",n._v$6=r),o!==n._v$7&&V(i,"src",n._v$7=o),n}),{_v$6:void 0,_v$7:void 0}),t})()})),e})()]}}),null),J(e,I(z,{get when(){return!Et.stats},get children(){const e=Pn.cloneNode(!0);return V(e.firstChild,"draggable",!1),e}}),null),g((()=>e.classList.toggle("group-sticky-enabled",Qe.stick_group_banner))),e})();const zn=W('<div class="level">Lv.</div>'),Un=W('<div class="fetter"></div>'),Xn=W('<div class="fate-level"></div>'),Yn=W('<div><div class="avatar"></div><div class="meta"></div><div></div><div></div><div class="name"></div></div>');var Wn=e=>(()=>{const t=Yn.cloneNode(!0),n=t.firstChild,r=n.nextSibling,i=r.nextSibling,o=i.nextSibling,a=o.nextSibling;return J(r,I(z,{get when(){return e.fateLevel>=0},fallback:"-",get children(){return[(()=>{const t=zn.cloneNode(!0);return t.firstChild,J(t,(()=>e.level),null),t})(),I(z,{get when(){return!Ye(e.id)},get children(){const t=Un.cloneNode(!0);return J(t,(()=>e.fetter)),t}})]}})),J(a,(()=>e.name)),J(t,I(z,{get when(){return e.fateLevel>0},get children(){const t=Xn.cloneNode(!0);return J(t,(()=>e.fateLevel)),t}}),null),g((r=>{const a=`role-item rarity-${e.rarity}`,s=isNaN(e.fateLevel)||e.fateLevel<0,l=e.id,c=e.rarity,d=`url(${e.avatar})`,u=`star rarity-${e.rarity}`,f=`element element-${e.element.toLowerCase()}`;return a!==r._v$&&(t.className=r._v$=a),s!==r._v$2&&t.classList.toggle("not-owned",r._v$2=s),l!==r._v$3&&V(t,"data-id",r._v$3=l),c!==r._v$4&&V(t,"data-rarity",r._v$4=c),d!==r._v$5&&n.style.setProperty("background-image",r._v$5=d),u!==r._v$6&&(i.className=r._v$6=u),f!==r._v$7&&(o.className=r._v$7=f),r}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0}),t})();function Fn(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Vn(e){return e instanceof Fn(e).Element||e instanceof Element}function Gn(e){return e instanceof Fn(e).HTMLElement||e instanceof HTMLElement}function Jn(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Fn(e).ShadowRoot||e instanceof ShadowRoot)}var Qn=Math.round;function Zn(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Gn(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(r=n.width/a||1),o>0&&(i=n.height/o||1)}return{width:Qn(n.width/r),height:Qn(n.height/i),top:Qn(n.top/i),right:Qn(n.right/r),bottom:Qn(n.bottom/i),left:Qn(n.left/r),x:Qn(n.left/r),y:Qn(n.top/i)}}function er(e){var t=Fn(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tr(e){return e?(e.nodeName||"").toLowerCase():null}function nr(e){return((Vn(e)?e.ownerDocument:e.document)||window.document).documentElement}function rr(e){return Zn(nr(e)).left+er(e).scrollLeft}function ir(e){return Fn(e).getComputedStyle(e)}function or(e){var t=ir(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function ar(e,t,n){void 0===n&&(n=!1);var r,i,o=Gn(t),a=Gn(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),s=nr(t),l=Zn(e,a),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(o||!o&&!n)&&(("body"!==tr(t)||or(s))&&(c=(r=t)!==Fn(r)&&Gn(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:er(r)),Gn(t)?((d=Zn(t,!0)).x+=t.clientLeft,d.y+=t.clientTop):s&&(d.x=rr(s))),{x:l.left+c.scrollLeft-d.x,y:l.top+c.scrollTop-d.y,width:l.width,height:l.height}}function sr(e){var t=Zn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function lr(e){return"html"===tr(e)?e:e.assignedSlot||e.parentNode||(Jn(e)?e.host:null)||nr(e)}function cr(e){return["html","body","#document"].indexOf(tr(e))>=0?e.ownerDocument.body:Gn(e)&&or(e)?e:cr(lr(e))}function dr(e,t){var n;void 0===t&&(t=[]);var r=cr(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Fn(r),a=i?[o].concat(o.visualViewport||[],or(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(dr(lr(a)))}function ur(e){return["table","td","th"].indexOf(tr(e))>=0}function fr(e){return Gn(e)&&"fixed"!==ir(e).position?e.offsetParent:null}function pr(e){for(var t=Fn(e),n=fr(e);n&&ur(n)&&"static"===ir(n).position;)n=fr(n);return n&&("html"===tr(n)||"body"===tr(n)&&"static"===ir(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Gn(e)&&"fixed"===ir(e).position)return null;for(var n=lr(e);Gn(n)&&["html","body"].indexOf(tr(n))<0;){var r=ir(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var hr="top",vr="bottom",gr="right",mr="left",yr=[hr,vr,gr,mr],br=yr.reduce((function(e,t){return e.concat([t+"-start",t+"-end"])}),[]),_r=[].concat(yr,["auto"]).reduce((function(e,t){return e.concat([t,t+"-start",t+"-end"])}),[]),wr=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Sr(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function $r(e){return e.split("-")[0]}var xr=Math.max,kr=Math.min,Cr=Math.round;function Ar(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Jn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Er(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Lr(e,t){return"viewport"===t?Er(function(e){var t=Fn(e),n=nr(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+rr(e),y:s}}(e)):Gn(t)?function(e){var t=Zn(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Er(function(e){var t,n=nr(e),r=er(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=xr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=xr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+rr(e),l=-r.scrollTop;return"rtl"===ir(i||n).direction&&(s+=xr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(nr(e)))}function Nr(e,t,n){var r="clippingParents"===t?function(e){var t=dr(lr(e)),n=["absolute","fixed"].indexOf(ir(e).position)>=0&&Gn(e)?pr(e):e;return Vn(n)?t.filter((function(e){return Vn(e)&&Ar(e,n)&&"body"!==tr(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=Lr(e,n);return t.top=xr(r.top,t.top),t.right=kr(r.right,t.right),t.bottom=kr(r.bottom,t.bottom),t.left=xr(r.left,t.left),t}),Lr(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function jr(e){return e.split("-")[1]}function Or(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Tr(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?$r(i):null,a=i?jr(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case hr:t={x:s,y:n.y-r.height};break;case vr:t={x:s,y:n.y+n.height};break;case gr:t={x:n.x+n.width,y:l};break;case mr:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Or(o):null;if(null!=c){var d="y"===c?"height":"width";switch(a){case"start":t[c]=t[c]-(n[d]/2-r[d]/2);break;case"end":t[c]=t[c]+(n[d]/2-r[d]/2)}}return t}function Rr(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Br(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Pr(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.boundary,a=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?"viewport":s,c=n.elementContext,d=void 0===c?"popper":c,u=n.altBoundary,f=void 0!==u&&u,p=n.padding,h=void 0===p?0:p,v=Rr("number"!=typeof h?h:Br(h,yr)),g="popper"===d?"reference":"popper",m=e.rects.popper,y=e.elements[f?g:d],b=Nr(Vn(y)?y:y.contextElement||nr(e.elements.popper),a,l),_=Zn(e.elements.reference),w=Tr({reference:_,element:m,strategy:"absolute",placement:i}),S=Er(Object.assign({},m,w)),$="popper"===d?S:_,x={top:b.top-$.top+v.top,bottom:$.bottom-b.bottom+v.bottom,left:b.left-$.left+v.left,right:$.right-b.right+v.right},k=e.modifiersData.offset;if("popper"===d&&k){var C=k[i];Object.keys(x).forEach((function(e){var t=[gr,vr].indexOf(e)>=0?1:-1,n=[hr,vr].indexOf(e)>=0?"y":"x";x[e]+=C[n]*t}))}return x}var Mr={placement:"bottom",modifiers:[],strategy:"absolute"};function Dr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}var Kr={passive:!0};var qr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Ir(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=!0===d?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Cr(Cr(t*r)/r)||0,y:Cr(Cr(n*r)/r)||0}}(a):"function"==typeof d?d(a):a,f=u.x,p=void 0===f?0:f,h=u.y,v=void 0===h?0:h,g=a.hasOwnProperty("x"),m=a.hasOwnProperty("y"),y=mr,b=hr,_=window;if(c){var w=pr(n),S="clientHeight",$="clientWidth";w===Fn(n)&&"static"!==ir(w=nr(n)).position&&"absolute"===s&&(S="scrollHeight",$="scrollWidth"),w=w,i!==hr&&(i!==mr&&i!==gr||"end"!==o)||(b=vr,v-=w[S]-r.height,v*=l?1:-1),i!==mr&&(i!==hr&&i!==vr||"end"!==o)||(y=gr,p-=w[$]-r.width,p*=l?1:-1)}var x,k=Object.assign({position:s},c&&qr);return l?Object.assign({},k,((x={})[b]=m?"0":"",x[y]=g?"0":"",x.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",x)):Object.assign({},k,((t={})[b]=m?v+"px":"",t[y]=g?p+"px":"",t.transform="",t))}var Hr=[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Fn(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Kr)})),s&&l.addEventListener("resize",n.update,Kr),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Kr)})),s&&l.removeEventListener("resize",n.update,Kr)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Tr({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:$r(t.placement),variation:jr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Ir(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ir(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Gn(i)&&tr(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Gn(r)&&tr(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]}],zr={left:"right",right:"left",bottom:"top",top:"bottom"};function Ur(e){return e.replace(/left|right|bottom|top/g,(function(e){return zr[e]}))}var Xr={start:"end",end:"start"};function Yr(e){return e.replace(/start|end/g,(function(e){return Xr[e]}))}var Wr={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,v=n.allowedAutoPlacements,g=t.options.placement,m=$r(g),y=l||(m===g||!h?[Ur(g)]:function(e){if("auto"===$r(e))return[];var t=Ur(e);return[Yr(e),t,Yr(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat("auto"===$r(n)?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?_r:l,d=jr(r),u=d?s?br:br.filter((function(e){return jr(e)===d})):yr,f=u.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=u);var p=f.reduce((function(t,n){return t[n]=Pr(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[$r(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:h,allowedAutoPlacements:v}):n)}),[]),_=t.rects.reference,w=t.rects.popper,S=new Map,$=!0,x=b[0],k=0;k<b.length;k++){var C=b[k],A=$r(C),E="start"===jr(C),L=[hr,vr].indexOf(A)>=0,N=L?"width":"height",j=Pr(t,{placement:C,boundary:d,rootBoundary:u,altBoundary:f,padding:c}),O=L?E?gr:mr:E?vr:hr;_[N]>w[N]&&(O=Ur(O));var T=Ur(O),R=[];if(o&&R.push(j[A]<=0),s&&R.push(j[O]<=0,j[T]<=0),R.every((function(e){return e}))){x=C,$=!1;break}S.set(C,R)}if($)for(var B=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},P=h?3:1;P>0;P--){if("break"===B(P))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};var Fr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=_r.reduce((function(e,n){return e[n]=function(e,t,n){var r=$r(e),i=[mr,hr].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[mr,gr].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var Vr={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=$r(n.placement),l=Or(s),c=[mr,gr].indexOf(s)>=0?"height":"width";if(o&&a){var d=function(e,t){return Rr("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Br(e,yr))}(i.padding,n),u=sr(o),f="y"===l?hr:mr,p="y"===l?vr:gr,h=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],v=a[l]-n.rects.reference[l],g=pr(o),m=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=h/2-v/2,b=d[f],_=m-u[c]-d[p],w=m/2-u[c]/2+y,S=xr(b,kr(w,_)),$=l;n.modifiersData[r]=((t={})[$]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&Ar(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};const Gr=W('<div class="costumes"><svg viewBox="0 0 640 512" aria-hidden="true"><path fill="currentColor" d="M631.2 96.5L436.5 0C416.4 27.8 371.9 47.2 320 47.2S223.6 27.8 203.5 0L8.8 96.5c-7.9 4-11.1 13.6-7.2 21.5l57.2 114.5c4 7.9 13.6 11.1 21.5 7.2l56.6-27.7c10.6-5.2 23 2.5 23 14.4V480c0 17.7 14.3 32 32 32h256c17.7 0 32-14.3 32-32V226.3c0-11.8 12.4-19.6 23-14.4l56.6 27.7c7.9 4 17.5.8 21.5-7.2L638.3 118c4-7.9.8-17.6-7.1-21.5z"></path></svg></div>'),Jr=W('<div class="Box role-details"><div data-popper-arrow></div><button class="close-button"><svg width="12" height="16" viewBox="0 0 12 16" class="octicon" aria-hidden="true"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48 8z"></path></svg></button><div><img><span></span><span class="name"></span><span class="affix">精炼<!>阶</span><span class="level">Lv.</span></div><ol class="reliquaries"></ol></div>'),Qr=W("<li></li>"),Zr=W('<li><img><span></span><span class="level">Lv.</span></li>'),ei=[0,20,40,50,60,70,80],ti=function(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Mr:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mr,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,d={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;u(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:Vn(e)?dr(e):e.contextElement?dr(e.contextElement):[],popper:dr(t)};var a,c,f=function(e){var t=Sr(e);return wr.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}((a=[].concat(r,s.options.modifiers),c=a.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return s.orderedModifiers=f.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:d,options:r}),a=function(){};l.push(o||a)}})),d.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Dr(t,n)){s.rects={reference:ar(t,pr(n),"fixed"===s.options.strategy),popper:sr(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,u=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:u,instance:d})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise((function(e){d.forceUpdate(),e(s)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(i())}))}))),a}),destroy:function(){u(),c=!0}};if(!Dr(e,t))return d;function u(){l.forEach((function(e){return e()})),l=[]}return d.setOptions(n).then((function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)})),d}}({defaultModifiers:[...Hr,Fr,Wr,Vr]});var ni=e=>{let t,n;S((()=>{n=ti(e.target,t,{modifiers:[{name:"offset",options:{offset:({placement:e,reference:t,popper:n})=>e.startsWith("bottom")?[0,38]:[0,12]}}]})})),m((()=>{n.forceUpdate()})),$((()=>{n.destroy()}));const r=y((()=>{const t=new Array(5);for(const n of e.detail.reliquaries)t[n.pos-1]=n;return t}));return e.detail.weapon,(()=>{const n=Jr.cloneNode(!0),i=n.firstChild.nextSibling.nextSibling,o=i.firstChild,a=o.nextSibling,s=a.nextSibling,l=s.nextSibling,c=l.firstChild.nextSibling;c.nextSibling;const d=l.nextSibling;d.firstChild;const u=i.nextSibling;return"function"==typeof t?t(n):t=n,J(n,I(z,{get when(){return e.detail.costumes.length>0},get children(){const t=Gr.cloneNode(!0);return t.firstChild,J(t,(()=>e.detail.costumes.length),null),t}}),i),J(s,(()=>e.detail.weapon.name)),J(l,(()=>e.detail.weapon.affix_level),c),J(d,(()=>e.detail.weapon.level),null),J(d,(()=>ei[e.detail.weapon.promote_level]===e.detail.weapon.level&&"+"),null),J(u,I(H,{get each(){return r()},children:e=>e?(()=>{const t=Zr.cloneNode(!0),n=t.firstChild,r=n.nextSibling,i=r.nextSibling;return i.firstChild,J(i,(()=>e.level),null),g((i=>{const o=`rarity-${e.rarity}`,a=e.name,s=e.icon,l=e.name,c=`star rarity-${e.rarity}`;return o!==i._v$5&&(t.className=i._v$5=o),a!==i._v$6&&V(t,"title",i._v$6=a),s!==i._v$7&&V(n,"src",i._v$7=s),l!==i._v$8&&V(n,"alt",i._v$8=l),c!==i._v$9&&(r.className=i._v$9=c),i}),{_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0}),t})():Qr.cloneNode(!0)})),g((t=>{const n=`weapon rarity-${e.detail.weapon.rarity} clearfix`,r=e.detail.weapon.icon,s=e.detail.weapon.name,l=`star rarity-${e.detail.weapon.rarity}`;return n!==t._v$&&(i.className=t._v$=n),r!==t._v$2&&V(o,"src",t._v$2=r),s!==t._v$3&&V(o,"alt",t._v$3=s),l!==t._v$4&&(a.className=t._v$4=l),t}),{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0}),n})()};const ri=W('<div class="role-list-wrapper"></div>'),ii=W('<div class="group-banner"><div class="Subhead container"><div class="Subhead-heading"></div></div></div>'),oi=W('<div class="role-group"><div class="container role-list"></div></div>');var ai=()=>{const[e,t]=h(),n={getBoundingClientRect:()=>e().getBoundingClientRect()},r=n=>{var r;const i=n.target;"avatar"===i.className&&(null==(r=i.parentElement)?void 0:r.classList.contains("role-item"))&&(n.stopPropagation(),e()===i.parentElement||i.parentElement.classList.contains("not-owned")?t():Et.details&&Et.detailMap[i.parentElement.dataset.id]&&t(i.parentElement))};return function(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer}((()=>[tt()]),(()=>{t()})),m((()=>{window.addEventListener("click",(e=>{const n=e.target;n.closest&&!n.closest(".close-button")&&(n.closest(".role-item .avatar")||n.closest(".role-details.Box"))||t()}))})),(()=>{const t=ri.cloneNode(!0);return t.$$click=r,J(t,I(z,{get when(){return Et.roles.length},get children(){return I(H,{get each(){return Et.groups},children:e=>(()=>{const t=oi.cloneNode(!0),n=t.firstChild;return J(t,I(z,{get when(){return e.name},get children(){const t=ii.cloneNode(!0);return J(t.firstChild.firstChild,(()=>e.name)),t}}),n),J(n,I(H,{get each(){return e.roles},children:e=>I(Wn,{get id(){return e.id},get rarity(){return e.special_rarity||e.rarity},get level(){return e.level},get fetter(){return e.fetter},get element(){return e.element},get fateLevel(){return e.actived_constellation_num},get name(){return e.name},get avatar(){return e.image}})})),g((n=>{const r=kt.grouping,i=e.value;return r!==n._v$4&&V(t,"data-type",n._v$4=r),i!==n._v$5&&V(t,"data-value",n._v$5=i),n}),{_v$4:void 0,_v$5:void 0}),t})()})}}),null),J(t,I(re,{get children(){return I(z,{get when(){return e()},get children(){return I(ni,{target:n,get detail(){return Et.detailMap[e().dataset.id]}})}})}}),null),g((e=>{const n=!!kt.grouping,r=Qe.stick_group_banner,i=!Et.details;return n!==e._v$&&t.classList.toggle("grouping-enabled",e._v$=n),r!==e._v$2&&t.classList.toggle("group-sticky-enabled",e._v$2=r),i!==e._v$3&&t.classList.toggle("no-details",e._v$3=i),e}),{_v$:void 0,_v$2:void 0,_v$3:void 0}),t})()};F(["click"]);let si=[],li=[];function ci(e){return e.type==CSSRule.MEDIA_RULE}var di=()=>[I(Nn,{}),I(U,{get children(){return[I(X,{get when(){return Qe.page===Ie.SUMMARY},get children(){return I(Hn,{})}}),I(X,{get when(){return Qe.page===Ie.ROLES},get children(){return I(ai,{})}}),I(X,{get when(){return Qe.page===Ie.ABYSS},get children(){return I(Zt,{})}})]}})];an&&(chrome||browser).runtime.onMessage.addListener((async(e,t,n)=>{var r;if("capture"===e){if(!cn.screenshot.clipboard&&!cn.screenshot.savefile)return void ae("请打开设置面板选择截图后的动作。");!function(){for(const e of Array.from(document.querySelectorAll("link[rel=stylesheet], style")))if("print"===e.media)e.title="print-disabled",e.media="";else if("screen"===e.media)e.disabled=!0;else{const t=e.sheet;if(t)for(let e=0;e<t.cssRules.length;++e){const n=t.cssRules[e];ci(n)&&("print"===n.conditionText?(n.media.mediaText="screen",li.push(n)):"screen"===n.conditionText&&(n.media.mediaText="disabled",si.push(n)))}}}(),await rn(100);const e=4,t=null==(r=document.querySelector("header + * .container"))?void 0:r.clientWidth;try{const n=await ln();if(t&&(t+2*e)*devicePixelRatio<n.width){const r=n.getContext("2d"),i=(t+2*e)*devicePixelRatio,o=(n.width-i)/2,a=r.getImageData(o,0,i,n.height);n.width=i,r.putImageData(a,0,0)}n.toBlob((e=>{if(e){if(cn.screenshot.clipboard){const t=()=>{navigator.clipboard.write([new ClipboardItem({[e.type]:e})]).then((()=>{ae("已复制页面截图到剪贴板")}),(e=>{ae(e.message,{type:"error"})}))};document.hasFocus()?t():(ae("由于浏览器限制，请点击页面任意地方以复制图像。",{timeout:5e3}),window.addEventListener("focus",(function e(){t(),window.removeEventListener("focus",e)})))}cn.screenshot.savefile&&function(e,t,n){let r;r=e instanceof Blob?e:new Blob(Array.isArray(e)?e:[e],"string"==typeof n?{type:n}:n);const i=URL.createObjectURL(r),o=document.createElement("a");o.style.display="none",o.download=t,o.href=i,document.body.appendChild(o),o.click(),setTimeout((()=>{URL.revokeObjectURL(i),document.body.removeChild(o)}),2e3)}(e,`${Qe.uid}-${Qe.page}.png`)}}),"image/png")}catch(i){ae(i.message,{type:"error"})}!function(){for(const e of Array.from(document.querySelectorAll("link[rel=stylesheet], style")))"print-disabled"===e.title?(e.title="",e.media="print"):"screen"===e.media&&(e.disabled=!1);for(const e of li)e.media.mediaText="print";li=[];for(const e of si)e.media.mediaText="screen";si=[]}()}})),window.addEventListener("DOMContentLoaded",(()=>{var e;if(function(e,t,n){let r;p((i=>{r=i,J(t,e(),t.firstChild?null:void 0,n)}))}(di,document.body),"undefined"!=typeof chrome&&(null==(e=chrome.runtime)?void 0:e.id)){const e=document.querySelector("meta[name=version]");if(e&&/^\d+\.\d+\.\d+$/.test(e.content)&&e.content!==chrome.runtime.getManifest().version){const e=document.createElement("div"),t=document.createElement("a");t.textContent="此处",t.href="#",t.addEventListener("click",(e=>{e.preventDefault(),chrome.runtime.reload()})),e.appendChild(document.createTextNode("检测到版本更新，请点击")),e.appendChild(t),e.appendChild(document.createTextNode("重新加载扩展。注意，您可能需要重新点击扩展按钮以打开此页面。")),ae(e,{sticky:!0,dismissable:!1})}}}));
